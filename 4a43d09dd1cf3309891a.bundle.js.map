{"version":3,"file":"4a43d09dd1cf3309891a.bundle.js","mappings":"mGAMAA,EAAOC,QAAU,SAAUC,GACzB,IAAIC,EAAO,GA4EX,OAzEAA,EAAKC,SAAW,WACd,OAAOC,KAAKC,KAAI,SAAUC,GACxB,IAAIC,EAAU,GACVC,OAA+B,IAAZF,EAAK,GAoB5B,OAnBIA,EAAK,KACPC,GAAW,cAAcE,OAAOH,EAAK,GAAI,QAEvCA,EAAK,KACPC,GAAW,UAAUE,OAAOH,EAAK,GAAI,OAEnCE,IACFD,GAAW,SAASE,OAAOH,EAAK,GAAGI,OAAS,EAAI,IAAID,OAAOH,EAAK,IAAM,GAAI,OAE5EC,GAAWN,EAAuBK,GAC9BE,IACFD,GAAW,KAETD,EAAK,KACPC,GAAW,KAETD,EAAK,KACPC,GAAW,KAENA,CACT,IAAGI,KAAK,GACV,EAGAT,EAAKU,EAAI,SAAWC,EAASC,EAAOC,EAAQC,EAAUC,GAC7B,iBAAZJ,IACTA,EAAU,CAAC,CAAC,KAAMA,OAASK,KAE7B,IAAIC,EAAyB,CAAC,EAC9B,GAAIJ,EACF,IAAK,IAAIK,EAAI,EAAGA,EAAIhB,KAAKM,OAAQU,IAAK,CACpC,IAAIC,EAAKjB,KAAKgB,GAAG,GACP,MAANC,IACFF,EAAuBE,IAAM,EAEjC,CAEF,IAAK,IAAIC,EAAK,EAAGA,EAAKT,EAAQH,OAAQY,IAAM,CAC1C,IAAIhB,EAAO,GAAGG,OAAOI,EAAQS,IACzBP,GAAUI,EAAuBb,EAAK,WAGrB,IAAVW,SACc,IAAZX,EAAK,KAGdA,EAAK,GAAK,SAASG,OAAOH,EAAK,GAAGI,OAAS,EAAI,IAAID,OAAOH,EAAK,IAAM,GAAI,MAAMG,OAAOH,EAAK,GAAI,MAF/FA,EAAK,GAAKW,GAMVH,IACGR,EAAK,IAGRA,EAAK,GAAK,UAAUG,OAAOH,EAAK,GAAI,MAAMG,OAAOH,EAAK,GAAI,KAC1DA,EAAK,GAAKQ,GAHVR,EAAK,GAAKQ,GAMVE,IACGV,EAAK,IAGRA,EAAK,GAAK,cAAcG,OAAOH,EAAK,GAAI,OAAOG,OAAOH,EAAK,GAAI,KAC/DA,EAAK,GAAKU,GAHVV,EAAK,GAAK,GAAGG,OAAOO,IAMxBd,EAAKqB,KAAKjB,GACZ,CACF,EACOJ,CACT,C,mBClFAH,EAAOC,QAAU,SAAUM,GACzB,IAAIC,EAAUD,EAAK,GACfkB,EAAalB,EAAK,GACtB,IAAKkB,EACH,OAAOjB,EAET,GAAoB,mBAATkB,KAAqB,CAC9B,IAAIC,EAASD,KAAKE,SAASC,mBAAmBC,KAAKC,UAAUN,MACzDO,EAAO,+DAA+DtB,OAAOiB,GAC7EM,EAAgB,OAAOvB,OAAOsB,EAAM,OACxC,MAAO,CAACxB,GAASE,OAAO,CAACuB,IAAgBrB,KAAK,KAChD,CACA,MAAO,CAACJ,GAASI,KAAK,KACxB,C,kBCbAZ,EAAOC,QAAU,SAAUiC,EAAKC,GAM9B,OALKA,IAEHA,EAAU,CAAC,GAGRD,GAKLA,EAAME,OAAOF,EAAIG,WAAaH,EAAII,QAAUJ,GAExCC,EAAQI,OAEVL,GAAOC,EAAQI,MAGbJ,EAAQK,iBAAmB,oBAAoBC,KAAKP,GAC/C,IAAKxB,OAAOwB,EAAK,KAGnBA,GAfEA,CAgBX,C,6CCvBIQ,EAA6B,IAAIC,IAAI,aAKzC,EAFW,8bAD2B,IAAyCD,GAC6a,0G,oBCLrf,MAAME,EAAaC,KAAKC,eAAe,GAAI,CAAEC,KAAM,UAAWC,OAAQ,YCQvE,MAAOC,UAAyBC,YAWlCC,cACIC,QAXI,KAAAC,UAAW,CAanB,CAEAC,oBACIjD,KAAKkD,gBAAkB,IAAIC,gBACtBnD,KAAKgD,WACNhD,KAAKoD,UAAYC,EACjBrD,KAAKgD,UAAW,EAChBhD,KAAKsD,cAAgBtD,KAAKuD,cAAc,sCACxCvD,KAAKwD,YAAcxD,KAAKuD,cAAc,oCACtCvD,KAAKyD,cAAgBzD,KAAKuD,cAAc,sCACxCvD,KAAK0D,cAAgB1D,KAAKuD,cAAc,sCACxCvD,KAAK2D,kBAAoB3D,KAAKuD,cAAc,2CAEhDvD,KAAK4D,QACT,CAEQA,S,YACJ,GAAI5D,KAAKgD,UAAYhD,KAAK6D,cAAe,CACrC,IAA0B,QAAtB,EAAA7D,KAAK8D,yBAAiB,eAAEC,oBAAqB/D,KAAK6D,cAAcE,mBAC1C,QAAtB,EAAA/D,KAAK8D,yBAAiB,eAAEE,SAAUhE,KAAK6D,cAAcG,OACrDhE,KAAK8D,kBAAkBG,aAAejE,KAAK6D,cAAcI,WAAY,CACrE,IAAIX,EAAgB,IAAIY,KAAKlE,KAAK6D,cAAcE,iBAAiBI,UAAuC,IAA3BnE,KAAK6D,cAAcG,OAC5FI,EAAyB7B,EAAW8B,OAAOf,GAC/CtD,KAAKsD,cAAcgB,aAAa,OAAQ,GAAMhB,EAAca,WAC5DnE,KAAKsD,cAAcgB,aAAa,QAAS,cAAcF,KACvD,IAAIG,EAA4BhC,EAAW8B,OAAOrE,KAAK6D,cAAcE,kBACjES,EAAUD,GAA6BH,EAC3CpE,KAAKwD,YAAYiB,UAAY,GAAGzE,KAAK6D,cAAcI,WAAaO,EAAUD,EAA4B,YAAc,KACpHvE,KAAKwD,YAAYkB,MAAMC,eAAiBH,EAAU,eAAiB,M,EAE7C,QAAtB,EAAAxE,KAAK8D,yBAAiB,eAAEc,MAAM3D,MAAOjB,KAAK6D,cAAce,MAAM3D,KAC9DjB,KAAKyD,cAAca,aAAaO,EAAAA,GAAgB7E,KAAK6D,cAAce,MAAME,MACzE9E,KAAKyD,cAAca,aAAaS,EAAAA,GAAqB/E,KAAK6D,cAAce,MAAMI,OAC9EhF,KAAK2D,kBAAkBc,UAAYzE,KAAK6D,cAAce,MAAMK,WAEtC,QAAtB,EAAAjF,KAAK8D,yBAAiB,eAAEoB,KAAKC,UAAWnF,KAAK6D,cAAcqB,KAAKC,SAChEnF,KAAK0D,cAAce,UAAYzE,KAAK6D,cAAcqB,KAAKE,S,CAG/DpF,KAAK8D,kBAAoB9D,KAAK6D,aAClC,CAEAwB,OAAO1D,GACH3B,KAAK6D,cAAgBlC,EACrB3B,KAAK4D,QACT,CAEA0B,uBACItF,KAAKkD,gBAAgBqC,OACzB,EAGJC,eAAeC,OAAO,oBAAqB7C,E,kBCxEpC,MAAM8C,EAAgB,OAEvB,MAAOC,UAAoB9C,YAa7BC,cACIC,QAZI,KAAA6C,SAAU,EACV,KAAAC,YAAsB,KAKtB,KAAAC,WAAY,EACZ,KAAAC,WAAY,EACZ,KAAAC,YAAsB,KAK1B,IAAIC,EAAajG,KAAKkG,aAAa,CAAEC,KAAM,SAC3CF,EAAW7C,UCnBR,6uCDoBHpD,KAAKoG,UAAYH,EAAW1C,cAAc,UAC1CvD,KAAKqG,SAAWJ,EAAW1C,cAAc,SACzCvD,KAAKsG,SAAWL,EAAW1C,cAAc,cACzCvD,KAAKuG,WAAaN,EAAW1C,cAAc,WAC3CvD,KAAKwG,SAAW,IAAMxG,KAAKyG,gBAC/B,CAEAxD,oBACIjD,KAAK+F,WAAY,EACjB/F,KAAKsG,SAASI,iBAAiB,eAAgB1G,KAAKwG,SACxD,CAEQC,iBACJzG,KAAK8F,WAAY,EACb9F,KAAKgG,cACLhG,KAAK2G,mBACL3G,KAAKgG,YAAc,KAE3B,CAEAV,uBACItF,KAAK+F,WAAY,EACjB/F,KAAKsG,SAASM,oBAAoB,eAAgB5G,KAAKwG,SAC3D,CAEAK,2BACI7G,KAAK2G,kBACT,CAEWG,gCACP,MAAO,CAACpB,EACZ,CAEQiB,mBACJ,IAAII,EAAQ/G,KAAKgH,aAAatB,GACzB1F,KAAK6F,YAQCkB,IAAU/G,KAAK6F,cAClB7F,KAAK8F,UACL9F,KAAKgG,YAAce,GAEnB/G,KAAK4F,SAAW5F,KAAK4F,QACjB5F,KAAK4F,SACL5F,KAAKoG,UAAU3B,UAAYsC,EAC3B/G,KAAKsG,SAASW,UAAUC,OAAO,aAC/BlH,KAAKsG,SAASW,UAAUE,IAAI,gBAE5BnH,KAAKqG,SAAS5B,UAAYsC,EAC1B/G,KAAKsG,SAASW,UAAUC,OAAO,cAC/BlH,KAAKsG,SAASW,UAAUE,IAAI,cAE5BnH,KAAK+F,YACL/F,KAAK8F,WAAY,GAErB9F,KAAKuG,WAAW9B,UAAYsC,EAC5B/G,KAAK6F,YAAckB,KAzBvB/G,KAAK4F,SAAU,EACf5F,KAAKoG,UAAU3B,UAAYsC,EAC3B/G,KAAKqG,SAAS5B,UAAY,GAC1BzE,KAAKsG,SAASW,UAAUC,OAAO,aAC/BlH,KAAKsG,SAASW,UAAUC,OAAO,cAC/BlH,KAAK6F,YAAckB,EACnB/G,KAAKuG,WAAW9B,UAAYsC,EAsBpC,EAGJvB,eAAeC,OAAO,eAAgBE,GEpF/B,MAAMyB,EAAgB,OAEvB,MAAOC,UAAwBxE,YAGjCC,cACIC,QACA,IAAIkD,EAAajG,KAAKkG,aAAa,CAAEC,KAAM,SAC3CF,EAAW7C,UCXR,wHDYHpD,KAAKsH,OAASC,MAAMC,KAAKvB,EAAWwB,iBAAiB,gBACzD,CAEAxE,oBACA,CAEAqC,uBAEA,CAEAuB,2BACI7G,KAAK2G,kBACT,CAEWG,gCACP,MAAO,CAACM,EACZ,CAEQT,mBACJ,IAAII,EAAQ/G,KAAKgH,aAAaI,GAC1BM,EAAO,IAAIxD,KAAKyD,SAASZ,IACzBa,EAAQF,EAAKG,WACbC,EAAUJ,EAAKK,aACnB/H,KAAKsH,OAAO,GAAGhD,aAAaoB,GAAiBkC,EAAQ,IAAO,GAAG7H,YAC/DC,KAAKsH,OAAO,GAAGhD,aAAaoB,GAAgBkC,EAAQ,IAAI7H,YACxDC,KAAKsH,OAAO,GAAGhD,aAAaoB,GAAiBoC,EAAU,IAAO,GAAG/H,YACjEC,KAAKsH,OAAO,GAAGhD,aAAaoB,GAAgBoC,EAAU,IAAI/H,WAC9D,EAGJyF,eAAeC,OAAO,oBAAqB4B,E,yGErC3C,MAAMW,EAAeC,SAASC,cAAc,YAC5CF,EAAa5E,UCNF,sWDmBX,MAAM+E,EAMFrF,YAAoBsF,EAAyBC,GAAzB,KAAAD,IAAAA,EAAyB,KAAAC,eAAAA,EAJrC,KAAAC,cAAiE,IAAIC,IACrE,KAAAC,eAAiD,IAAID,GAK7D,CAEQpB,IAAIsB,GACR,IAAIC,EAAO,IAAIC,EAA0BF,GAIzC,OAHAzI,KAAKqI,eAAeO,QAAQF,EAAKG,gBACjC7I,KAAKoI,IAAIU,YAAYJ,EAAKK,YAC1B/I,KAAKsI,cAAcU,IAAIP,EAAGC,GACnBA,CACX,CAEQxB,OAAOuB,GACXzI,KAAKqI,eAAeY,UAAUR,GAC9B,IAAIC,EAAO1I,KAAKsI,cAAcY,IAAIT,GAClCzI,KAAKoI,IAAIe,YAAYT,EAAKK,YAC1B/I,KAAKsI,cAAcc,OAAOX,EAC9B,CAEAY,eAAeC,GACX,IAAK,IAAIb,KAAKzI,KAAKsI,cAAciB,OACzBD,EAAYE,QAAQf,GAAK,GACzBzI,KAAKkH,OAAOuB,GAGpBzI,KAAKwI,eAAiB,IAAID,IAC1B,IAAK,IAAIE,KAAKa,EAAa,CACvB,IAAIZ,EAAO1I,KAAKsI,cAAcY,IAAIT,GAC7BC,IACDA,EAAO1I,KAAKmH,IAAIsB,IAEpB,IACIgB,EADAC,EAAOjB,EAAEzB,aAAa,QAE1B,GAAMyC,EAAWzJ,KAAKwI,eAAeU,IAAIQ,GAGlC,CACH,IAAIC,EAAO3J,KAAKsI,cAAcY,IAAIO,EAASA,EAASnJ,OAAS,IAC7DoI,EAAKkB,SAAW5J,KAAKsI,cAAcY,IAAIO,EAASA,EAASnJ,OAAS,IAClEqJ,EAAKE,KAAOnB,C,MALZe,EAAW,GACXzJ,KAAKwI,eAAeQ,IAAIU,EAAMD,GAMlCA,EAAStI,KAAKsH,E,CAEtB,CAEAqB,WAAWC,EAAsBC,EAAoBC,GACjD,IAAIC,EAAmBlK,KAAKwI,eAAeU,IAAIa,IAAiB,GAChE,IAAK,IAAItB,KAAKyB,EACClK,KAAKsI,cAAcY,IAAIT,GAC7B0B,OAAOH,EAAYC,EAEhC,CAEAG,iBACI,OAAO7C,MAAMC,KAAKxH,KAAKsI,cAAc+B,SACzC,CAEAC,eAAeL,GACX,IAAIM,EAAahD,MAAMC,KAAKxH,KAAKwI,eAAe6B,UAAUpK,KAAIyJ,GAAQ1J,KAAKsI,cAAcY,IAAIQ,EAAK,MAClG,GAAyB,GAArBa,EAAWjK,OAEX,YADAN,KAAKwK,eAAiB,GAG1B,IAAIC,EAASF,EAAWtK,KAAIyK,IAAMA,EAAE7B,eAAenB,OAAMiD,MAAK,CAACC,EAAGC,IAAMD,EAAIC,IAAG,GAC/E,IAAK,IAAInB,KAAQ1J,KAAKwI,eAAee,OACjCvJ,KAAK8J,WAAWJ,EAAMe,EAAQR,GAElC,IAAIa,GAAaP,EAAWI,MAAK,CAACC,EAAGC,IAAMD,EAAEG,kBAAoBF,EAAEE,oBAAmB,GAAGA,kBACrFC,EAAMhL,KAAKoK,iBACf,IAAK,IAAI1B,KAAQsC,EACbtC,EAAKuC,QAAQH,GAMjB,IAAII,EAAW3D,MAAMC,KAAKxH,KAAKwI,eAAe6B,UAAUpK,KAAIyJ,GAAQ1J,KAAKsI,cAAcY,IAAIQ,EAAKA,EAAKpJ,OAAS,MAC9GN,KAAKwK,eAAiBU,EAASP,MAAK,CAACC,EAAGC,IAAMA,EAAEE,kBAAoBH,EAAEG,oBAAmB,GAAGI,eAChG,CAEAvH,OAAOwH,GACH,IAAK,IAAI1C,KAAQ1I,KAAKoK,iBAClB1B,EAAK9E,OAAOwH,EAEpB,EAGJ,MAAMzC,EAwBEoC,wBACA,OAAO/K,KAAKqL,kBAChB,CAEIF,sBACA,OAAOnL,KAAKsL,gBAChB,CAEAC,mBACI,OAAOvL,KAAKwL,qBAAuBxL,KAAKyL,cAC5C,CAEA3I,YAAmB+F,GAAA,KAAAA,eAAAA,EA7BX,KAAA6C,WAAY,EA8BhB1L,KAAK+I,WAAad,SAAS0D,gBA7IlB,6BA6I4C,QACrD3L,KAAK+I,WAAW9B,UAAUE,IAAI,aAClC,CAEAgD,OAAOH,EAAoBC,GACvB,IAAI2B,EAAmB5L,KAAK6I,eAAegD,aAAe,EACtDC,GAAc9L,KAAK6I,eAAenB,KAAOsC,EAW7C,GAVAhK,KAAKyL,eAAiBK,EAAa7B,EACnCjK,KAAKqL,mBAAqBrL,KAAKyL,eAAiBG,EAChD5L,KAAKsL,iBAAmBtL,KAAKqL,mBAAqBrL,KAAK6I,eAAegD,aACtE7L,KAAKwL,qBAAuBxL,KAAKqL,mBAAqBO,EACtD5L,KAAK+L,OAAS/L,KAAK6I,eAAekD,OAAS,CACvCC,sBAAuBhM,KAAK6I,eAAekD,OAAS/B,GAAcC,EAClEgC,0BAA2BjM,KAAK6I,eAAekD,OAAS/B,GAAcC,EAAa2B,EACnFM,aAAcjC,GACd,KAEAjK,KAAK4J,SAAU,CACf,IAAIuC,EAAUnM,KAAK4J,SAAS0B,iBAAmBtL,KAAKqL,mBAChDc,EAAU,IACVnM,KAAK4J,SAASwC,SAASD,EAAU,GACjCnM,KAAKoM,QAAQD,EAAU,G,CAGnC,CAEQC,QAAQC,GAOZ,GANArM,KAAKsL,kBAAoBe,EACzBrM,KAAKqL,oBAAsBgB,EAC3BrM,KAAKwL,sBAAwBa,EACzBrM,KAAK+L,SACL/L,KAAK+L,OAAOE,yBAA2BI,GAEvCA,EAAS,GAAKrM,KAAK4J,SAAU,CAC7B,IAAIuC,EAAUnM,KAAK4J,SAAS0B,iBAAmBtL,KAAKqL,mBAChDc,EAAU,GACVnM,KAAK4J,SAASwC,SAASD,E,CAGnC,CAEAlB,QAAQoB,GACJrM,KAAKqL,oBAAsBgB,EAC3BrM,KAAKsL,kBAAoBe,EACzBrM,KAAKyL,gBAAkBY,EACvBrM,KAAKwL,sBAAwBa,EACzBrM,KAAK+L,SACL/L,KAAK+L,OAAOE,yBAA2BI,EACvCrM,KAAK+L,OAAOC,qBAAuBK,EAE3C,CAEAC,aAAaD,GACTrM,KAAKyL,gBAAkBY,CAC3B,CAEQE,UAAUC,EAAsBC,GACpC,IAAIC,EAAOF,EAAWG,GAAKF,EAASE,EAAIH,EAAWG,GAAK,EACxD,MAAO,KAAKH,EAAWG,KAAKH,EAAWI,OAAOF,KAAQF,EAAWI,KAAKF,KAAQD,EAASG,KAAKH,EAASE,KAAKF,EAASG,GACvH,CAEAC,uBACQ7M,KAAK8M,qBACL9M,KAAK8M,mBAAmBC,SACxB/M,KAAK8M,mBAAqB,MAE1B9M,KAAKgN,4BACLhN,KAAKgN,0BAA0BD,SAC/B/M,KAAKgN,0BAA4B,KAEzC,CAEQC,cACJ,OAAOjN,KAAK6I,eAAeqE,wBAAwBC,IAAMnN,KAAK6I,eAAeuE,cAAcF,wBAAwBC,GACvH,CAEAvJ,OAAOwH,GAEH,GADApL,KAAK6M,uBACD7M,KAAK0L,UAAW,CAChB,IAAIlE,EAAOxH,KAAKiN,cACZI,KAAKC,IAAI9F,EAAOxH,KAAKqL,oBAAsB,IACvC,MAAQrL,KAAKuN,uBAAyBvN,KAAKuN,sBAAsBC,SAAWxN,KAAKqL,qBACjFrL,KAAKuN,sBAAsBE,UAAUV,SACrCW,QAAQC,IAAI,iCAEhB3N,KAAKuN,sBAAwB,CACzBE,UAAWzN,KAAK6I,eAAe+E,QAAQ,CAAC,CACpCC,UAAW,cAAcrG,QAE7B,CACIqG,UAAW,cAAc7N,KAAKqL,0BAC9B,CAAEyC,SAAU,MAAQN,QAASxN,KAAKqL,oBAE1CrL,KAAKuN,sBAAsBE,UAAU/G,iBAAiB,UAAU,KAC5D1G,KAAKuN,sBAAwB,IAAI,I,CAI7CvN,KAAK6I,eAAenE,MAAMmJ,UAAY,cAAc7N,KAAKqL,wBACzD,IAAI0C,EAAS3C,EAAgBpL,KAAK6I,eAAemF,WAC7ChO,KAAK6I,eAAemF,WAAahO,KAAK6I,eAAemF,WAAahO,KAAK6I,eAAeoF,YACtFzB,EAAa,IAAI0B,SAASH,EAAQ/N,KAAKwL,sBAEvCiB,EAAW,IAAIyB,SAAS9C,EAAepL,KAAKyL,gBAEhDzL,KAAK+I,WAAWzE,aAAa,IAAKtE,KAAKuM,UAAUC,EAAYC,IAC7DzM,KAAK0L,WAAY,CAIrB,CAEQyC,oBACAnO,KAAK+L,SACM/L,KAAKiN,cAChBjN,KAAK8M,mBAAqB9M,KAAK6I,eAAe+E,QAAQ,CAAC,CACnDC,UAAW,cAAc7N,KAAKqL,yBAElC,CACIwC,UAAW,cAAc7N,KAAK+L,OAAOE,+BACrC,CAAE6B,SAAU,EAAI9N,KAAK+L,OAAOG,aAAemB,KAAKC,IAAKtN,KAAKqL,mBAAqBrL,KAAK+L,OAAOE,2BAC/FjM,KAAK8M,mBAAmBsB,SAASC,MAAK,KAClCrO,KAAK8M,mBAAqB,IAAI,IAG1C,EAGE,MAAOwB,UAAiBzL,YAC1B0L,eACIvO,KAAKwO,cAAc,aACvB,CAYA1L,cACIC,QAXI,KAAAsF,eAAiB,IAAIoG,gBAAe,IAAMzO,KAAK0O,mBAM/C,KAAAC,iBAAkB,EAMtB3O,KAAKkG,aAAa,CAAEC,KAAM,SEtS5B,SAAwBF,EAAwBvB,GAElD,IAAIkK,EAAe3G,SAASC,cAAc,SAC1C0G,EAAaxL,UAAYsB,EACzBuB,EAAW6C,YAAY8F,EAC3B,CFkSQC,CAAc7O,KAAKiG,WAAY6I,EAAAA,GAC/B9O,KAAKiG,WAAW6C,YAAYd,EAAa7H,QAAQ4O,WAAU,IAC3D/O,KAAKgP,aAAehP,KAAKiG,WAAW1C,cAAc,kBAClDvD,KAAKiP,gBAAkBjP,KAAKiG,WAAW1C,cAAc,qBACrDvD,KAAKoI,IAAMpI,KAAKiG,WAAW1C,cAAc,OACzCvD,KAAKkP,aAAelP,KAAKiG,WAAW1C,cAAc,kBAClDvD,KAAKmP,oBAAsBnP,KAAKiG,WAAW1C,cAAc,yBAEzDvD,KAAKoP,aAAe,IAAIjH,EAA2BnI,KAAKoI,IAAKpI,KAAKqI,eACtE,CAEApF,oBACIjD,KAAKkD,gBAAkB,IAAIC,iBAC3BkM,EAAAA,EAAAA,GAAuBrP,KAAKiG,WAAY,cAAc,IAAMjG,KAAKsP,sBAAsBtP,KAAKkD,gBAAgBqM,SAC5GF,EAAAA,EAAAA,GAAuBrP,KAAM,cAAc,IAAMA,KAAKuO,gBAAgBvO,KAAKkD,gBAAgBqM,QAC3FvP,KAAKqI,eAAeO,QAAQ5I,MAC5BA,KAAKqI,eAAeO,QAAQ5I,KAAKkP,aAErC,CAEA5J,uBACItF,KAAKkD,gBAAgBqC,QACrBvF,KAAKqI,eAAeY,UAAUjJ,MAC9BA,KAAKqI,eAAeY,UAAUjJ,KAAKkP,aACvC,CAEQI,qBACJtP,KAAKoP,aAAa/F,eAAe9B,MAAMC,KAAKxH,KAAKyH,iBAAiB,sBAClEzH,KAAKwO,cAAc,aACvB,CAEQE,iBACJ1O,KAAKwO,cAAc,SACvB,CAIQA,cAAcgB,GACdxP,KAAK2O,kBAGTjB,QAAQC,IAAI,SAAU6B,GACtBxP,KAAK2O,iBAAkB,EACvBc,uBAAsB,KAClBzP,KAAKmK,QAAQ,IAErB,CAEQA,SACJnK,KAAK2O,iBAAkB,EACvB,IAAI1E,EAAajK,KAAK0P,mBACtB1P,KAAKoP,aAAa9E,eAAeL,GAEjCyD,QAAQC,IAAI,MAAoB,GAAb1D,EAAkB,KACrC,MAAMmB,EAAgBpL,KAAKmP,oBAAoBnB,WAAahO,KAAKmP,oBAAoBlB,YAAc,EACnGjO,KAAKoP,aAAaxL,OAAOwH,GAEzBpL,KAAKiP,gBAAgBvK,MAAMiL,OAAS,GAAG3P,KAAKoP,aAAa5E,mBACrDxK,KAAKoP,aAAa5E,eAAiB,GACnCxK,KAAKgP,aAAa1K,aAAa,IAAK,KAAK8G,SAAwBA,KAAiBpL,KAAKoP,aAAa5E,iBAE5G,CAEQkF,mBACJ,IAAIE,EAAWrI,MAAMC,KAAKxH,KAAKoP,aAAahF,kBAAkBnK,KAAIwI,GAAKA,EAAEI,iBACzE,MACMgH,EADiB,EAAIC,WAAWC,iBAAiB/P,MAAMgQ,UACtB,IACvC,GAAIJ,EAAStP,OAAS,EAClB,OAAO,EACJ,GAAuB,GAAnBsP,EAAStP,OAChB,OAAO,EAEX,IAAI2J,EAAa,EACjB,IAAK,IAAIzJ,EAAI,EAAGA,EAAIoP,EAAStP,OAAQE,IAAK,CACtC,IAAIyP,GAAYL,EAASpP,GAAGkH,MAAQkI,EAASpP,EAAI,GAAGkH,KAChDwI,EAAON,EAASpP,EAAI,GAAGqL,aAEvB5B,EADY,GAAZgG,EACaJ,EAEAxC,KAAK8C,IAAID,EAAOD,EAAUhG,E,CAG/C,IAAImG,EAAQR,EAAS3P,KAAIoQ,IAAMA,EAAE3I,OAAMiD,MAAK,CAACC,EAAGC,IAAMD,EAAIC,IACtDyF,GAAeF,EAAMA,EAAM9P,OAAS,GAAK8P,EAAM,IAAMnG,EACzD,MAAMsG,EAAiC,IAArBC,OAAOC,YACnBC,EAAiC,IAArBF,OAAOC,YASzB,OARIH,EAAcC,EACdtG,GAAasG,EAAYD,GAErBA,EAAcI,IACdzG,GAAayG,EAAYJ,GAE7BrG,EAAaoD,KAAKsD,IAAItD,KAAK8C,IAAIN,EAAeU,EAAYD,EAAcrG,GAAaA,IAElFA,CACX,EAGJzE,eAAeC,OAAO,eAAgB6I,GGvYtC,MAAMlH,EAAgB,OAChBwJ,EAAkB,UAElB,MAAOC,UAAwBhO,YAM7B6E,WACA,OAAO1H,KAAK8Q,KAChB,CAEIpJ,SAAKX,GACL/G,KAAKsE,aAAa8C,EAAeL,EAAMgK,cAC3C,CAEIhF,aACA,OAAO/L,KAAKgR,OAChB,CAEIjF,WAAOhF,GACP/G,KAAKsE,aAAasM,EAAiB7J,EAAMgK,cAC7C,CAEAjO,cACIC,QACiB/C,KAAKkG,aAAa,CAAEC,KAAM,SAChC/C,UC9BR,4BD+BP,CAEAH,oBAEA,CAEAqC,uBAEA,CAEAuB,2BACI7G,KAAK2G,kBACT,CAEWG,gCACP,MAAO,CAACM,EAAewJ,EAC3B,CAEQjK,mBACJ,IAAIsK,EAAU,IAAI/M,KAAKlE,KAAKgH,aAAaI,IACrC8J,EAAgBlR,KAAKgH,aAAa4J,GAClCO,EAAYD,EAAgB,IAAIhN,KAAKgN,GAAiB,KACtDC,GAAaC,MAAMD,EAAUhN,aAC7BgN,EAAY,MAEhB,IAAIE,EAAgBJ,GAAWjR,KAAK8Q,OAASK,GAAanR,KAAKgR,QAC/DhR,KAAK8Q,MAAQG,EACbjR,KAAKgR,QAAUG,EACXE,GACArR,KAAKqR,cAAc,IAAIC,YAAY,aAAc,CAAEC,SAAS,EAAMC,UAAU,IAEpF,EAGJhM,eAAeC,OAAO,mBAAoBoL,GE7DpC,MAAOY,UAA0B5O,YAQnCwC,OAAOqM,GACH1R,KAAK0R,KAAOA,EACZ1R,KAAK4D,QACT,CAEAd,cACIC,OACJ,CAEAE,oBACSjD,KAAKgD,WACNhD,KAAKoD,UCvBN,qLDwBCpD,KAAK2R,SAAW3R,KAAKuD,cAAc,qBACnCvD,KAAK4R,OAAS5R,KAAKuD,cAAc,mBACjCvD,KAAK6R,aAAe7R,KAAKuD,cAAc,yBACvCvD,KAAK8R,UAAY9R,KAAKuD,cAAc,0BACpCvD,KAAKgD,UAAW,EAChBhD,KAAK4D,SAEb,CAEA0B,uBAEA,CAEQ1B,S,MACJ,IAAK5D,KAAKgD,YAAsB,QAAT,EAAAhD,KAAK0R,YAAI,eAAEpR,QAC9B,OAEJ,IAAIyR,EAAO/R,KAAK0R,KAAK1R,KAAK0R,KAAKpR,OAAS,GACpC0R,EAAQhS,KAAK0R,KAAK,GACtB1R,KAAK8R,UAAUxN,aAAa,OAAQ,GAAG0N,EAAMjO,iBAAiBI,aAC9DnE,KAAK2R,SAASlN,UAAYuN,EAAMtO,cAAc0B,SAC9CpF,KAAK4R,OAAOnN,UAAYsN,EAAKE,YAAY7M,SACzCpF,KAAK6R,aAAazO,UAAY,GAAGiK,KAAK6E,OAAOH,EAAKI,aAAeH,EAAMjO,kBAAoB,MAE/F,EAGJyB,eAAeC,OAAO,sBAAuBgM,G,QE9CvC,MAAOW,UAA0BvP,YAInCwC,OAAOgN,GACHrS,KAAKqS,IAAMA,EACXrS,KAAK4D,QACT,CAEAd,cACIC,OAEJ,CAEAE,oBACSjD,KAAKgD,WACNhD,KAAKoD,UCrBN,0CDsBCpD,KAAKgD,UAAW,EAChBhD,KAAKsS,iBAAmBtS,KAAKuD,cAAc,qBAC3CvD,KAAK4D,SAEb,CAEA0B,uBAEA,CAEQ1B,SACC5D,KAAKgD,UAAwB,MAAZhD,KAAKqS,KAG3BrS,KAAKsS,iBAAiBjN,OAAO,CACzBrB,MAAOhE,KAAKqS,IAAIrO,MAChBD,iBAAkB/D,KAAKqS,IAAItO,iBAC3Ba,MAAO5E,KAAKqS,IAAIzN,MAChBM,KAAMlF,KAAKqS,IAAI3O,cACf6O,OAAQvS,KAAKqS,IAAIE,OACjBtO,WAAYjE,KAAKqS,IAAIpO,YAE7B,EAGJuB,eAAeC,OAAO,sBAAuB2M,GE3CvC,MAAOI,UAA4B3P,YAIrCC,cACIC,QAJI,KAAAC,UAAW,CAKnB,CAEAC,oBACSjD,KAAKgD,WACNhD,KAAKgD,UAAW,EAChBhD,KAAKoD,UCfN,6EDgBCpD,KAAKyS,gBAAkBzS,KAAKuD,cAAc,qBAC1CvD,KAAK0S,UAAY1S,KAAKuD,cAAc,qBAE5C,CAEAoP,OAAOC,GACH5S,KAAKyS,gBAAgBnO,aAAa,OAAQ,GAAG,IAAIJ,KAAK0O,EAAQT,YAAYhO,UAA4B,IAAhByO,EAAQ5O,OAAcG,aAC5GnE,KAAK0S,UAAUjO,UAAYmO,EAAQX,YAAY7M,QACnD,CAEAE,uBACA,EAGJE,eAAeC,OAAO,wBAAyB+M,GE3BzC,MAAOK,UAAmChQ,YAG5CC,cACIC,QAHI,KAAAC,UAAW,CAInB,CAEAC,oBACSjD,KAAKgD,WACNhD,KAAKgD,UAAW,EAChBhD,KAAKoD,UCbN,0CDcCpD,KAAKyS,gBAAkBzS,KAAKuD,cAAc,qBAElD,CAEAuP,QAAQC,GACJ/S,KAAKyS,gBAAgBnO,aAAa,OAAQ,GAAGyO,EAAE5O,YACnD,CAEAmB,uBACA,EAGJE,eAAeC,OAAO,gCAAiCoN,GEvBjD,MAAOG,EACTlQ,cACS,KAAAmQ,KAAO,CADA,ECHd,MAAOC,EAITpQ,YAAoBqQ,EACRC,EACDC,EACC9D,GAHQ,KAAA4D,SAAAA,EACR,KAAAC,SAAAA,EACD,KAAAC,iBAAAA,EACC,KAAA9D,OAAAA,EALJ,KAAA+D,QAAkB,EAMuB,GAAzCJ,EAAWK,oBAAoBjT,QAC/B4S,EAAWM,iBAEfN,EAAWK,oBAAoBpS,KAAKnB,MACpCuP,EAAO7I,iBAAiB,SAAS,KAC7B1G,KAAKyT,cACLP,EAAWK,oBAAsBL,EAAWK,oBAAoBG,QAAOlT,GAAKR,MAAQQ,IACvC,GAAzC0S,EAAWK,oBAAoBjT,QAC/B4S,EAAWhQ,gBAAgBqC,O,IAGnCvF,KAAK2T,cACT,CAMAC,wBACIV,EAAWhQ,gBAAkB,IAAIC,iBACjCkM,EAAAA,EAAAA,GAAuBmB,OAAQ,SAAS,IAAM0C,EAAWW,SAASX,EAAWhQ,gBAAgBqM,SAC7FF,EAAAA,EAAAA,GAAuBpH,SAAU,SAAS,IAAMiL,EAAWW,SAASX,EAAWhQ,gBAAgBqM,SAC/FF,EAAAA,EAAAA,GAAuBmB,OAAQ,QAAQ,IAAM0C,EAAWY,QAAQZ,EAAWhQ,gBAAgBqM,SAC3FF,EAAAA,EAAAA,GAAuBpH,SAAU,QAAQ,IAAMiL,EAAWY,QAAQZ,EAAWhQ,gBAAgBqM,OACjG,CAEAwE,sBACS/T,KAAKuP,OAAOyE,UACbhU,KAAKsT,QAAS,EACdtT,KAAK2T,eACD3T,KAAKqT,kBACLrT,KAAKmT,WAGjB,CAEAM,cACIzT,KAAKsT,QAAS,EACdW,aAAajU,KAAKkU,QACtB,CAEQP,eACA3T,KAAKsT,SACLtT,KAAKkU,QAAUC,YAAW,KAClBnU,KAAKsT,SACLtT,KAAKmT,WACLnT,KAAK2T,e,GAEV3T,KAAKoT,UAEhB,CAEAQ,eACI5T,KAAKsT,QAAS,EACd,IAAK,IAAI9S,KAAKR,KAAKuT,oBACf/S,EAAEuT,qBAEV,CAEAH,cACI5T,KAAKsT,QAAS,EACd,IAAK,IAAI9S,KAAKR,KAAKuT,oBACf/S,EAAEiT,aAEV,EAlDOP,EAAAA,oBAAoC,GAEpCA,EAAAA,QAAkB,ECTvB,MAAOkB,UAAqBvR,YAM9BC,cACIC,QANI,KAAAC,UAAW,EAOfhD,KAAKqU,MAAQC,EAAAA,EAAAA,aACjB,CAEArR,oBACIjD,KAAKkD,gBAAkB,IAAIC,gBACtBnD,KAAKgD,WACNhD,KAAKoD,UC9BN,iCD+BCpD,KAAKuU,SAAWvU,KAAKuD,cAAc,gBACnCvD,KAAKgD,UAAW,GAEpBhD,KAAKqU,MAAMG,WAAU,CAACC,EAAG/J,IAAM1K,KAAKqF,OAAOoP,EAAG/J,IAAI1K,KAAKkD,gBAAgBqM,QACvEvP,KAAK0U,KAAK1U,KAAKqU,MAAMM,OACrB,IAAIzB,GAAW,IAAMlT,KAAK4U,uBAAuB,KAAM,EAAM5U,KAAKkD,gBAAgBqM,OAEtF,CAEQqF,sBACJ5U,KAAKqU,MAAMQ,WAAW,IAAI7B,EAC9B,CAEQ8B,mCAAsDC,EAC1DC,EACAC,EACA5P,GACA,IAAIoD,EAAIsM,EAAUC,EAAQD,GAAW,KACjCG,EAAkBH,EAatB,OAZKtM,IACDyM,EAAkB,IAAIrE,EACtBpI,EAAIwM,IACJC,EAAgBpM,YAAYL,GACb,MAAXsM,GACAA,EAAQI,sBAAsB,WAAYD,GAC1CH,EAAQ7N,UAERlH,KAAKuU,SAASzL,YAAYoM,IAGlC7P,EAAO6P,EAAiBzM,GACAyM,EAAgBE,kBAC5C,CAEQC,eAAeZ,GACnB,KAAKA,aAAC,EAADA,EAAGa,eAAgBtV,KAAKgD,SACzB,OAEJ,IAAIuS,EAAc,IAAIrR,KAClBsR,EAAqB,GACrBC,EAAYhB,EAAEa,YAAYG,UAC1BC,EAAiD1V,KAAKuU,SAASoB,SAAS,GAC5E,IAAK,IAAInV,EAAI,EAAGA,EAAIiV,EAAU/D,KAAKpR,OAAQE,IAAK,CAC5C,IAAI6R,EAAMoD,EAAU/D,KAAKlR,GACzB,OAAQ6R,EAAIY,MACR,KAAK,EACDuC,EAAYrU,KAAKkR,GACjB,IAAIuD,EAAUpV,EAAIiV,EAAU/D,KAAKpR,OAAS,EAAImV,EAAU/D,KAAKlR,EAAI,GAAK,KACjEoV,GAA2B,GAAhBA,EAAQ3C,OACpByC,EAAe1V,KAAK8U,mCAAmCY,GACnDrF,GAAKA,EAAEsF,SAAS,aAAclE,EAAoBpB,EAAEsF,SAAS,GAAK,OAClE,IAAM,IAAIlE,IACV,CAACpB,EAAG5H,KACA4H,EAAE/L,aAAa,OAAS,IAAIJ,KAAKsR,EAAY,GAAGzR,iBAAiBI,WAAY4M,eAC7EV,EAAE/L,aAAa,OAAQ,aACvBmE,EAAEpD,OAAOmQ,EAAY,IAE7BA,EAAc,IAElB,MACJ,KAAK,EACDE,EAAe1V,KAAK8U,mCAAmCY,GACnDrF,GAAKA,EAAEsF,SAAS,aAAcvD,EAAoB/B,EAAEsF,SAAS,GAAK,OAClE,IAAM,IAAIvD,IACV,CAAC/B,EAAG5H,KACA4H,EAAE/L,aAAa,OAAS,IAAIJ,KAAKmO,EAAItO,iBAAiBI,UAAwB,IAAZkO,EAAIrO,OAAe+M,eACrFV,EAAE/L,aAAa,OAAQ,aACvBmE,EAAEpD,OAAOgN,EAAI,I,CAKjC,IAAIO,EAAU6C,EAAU/D,KAAK+D,EAAU/D,KAAKpR,OAAS,GAqBrD,IApBAoV,EAAe1V,KAAK8U,mCAAmCY,GACnDrF,GAAKA,EAAEsF,SAAS,aAAcnD,EAAsBnC,EAAEsF,SAAS,GAAK,OACpE,IAAM,IAAInD,IACV,CAACnC,EAAG5H,KAEA4H,EAAE/L,aAAa,OAAS,IAAIJ,KAAK0O,EAAQT,YAAYhO,WAAY4M,eACjEV,EAAE/L,aAAa,OAAQ,aACvBmE,EAAEkK,OAAOC,EAAQ,IAErB2C,EAAYpR,WAAayO,EAAQT,YAAYhO,UAAY,MACzDuR,EAAe1V,KAAK8U,mCAAmCY,GACnDrF,GAAKA,EAAEsF,SAAS,aAAc9C,EAA6BxC,EAAEsF,SAAS,GAAK,OAC3E,IAAM,IAAI9C,IACV,CAACxC,EAAG5H,KACA4H,EAAE/L,aAAa,OAASiR,EAAaxE,eAErCV,EAAE/L,aAAa,OAAQ,aACvBmE,EAAEqK,QAAQyC,EAAY,KAGX,MAAhBG,GAAsB,CACzB,IAAI7L,EAAwB6L,EAAaN,mBACzCM,EAAaxO,SACbwO,EAAe7L,C,CAEvB,CAEQxE,OAAOoP,EAAU/J,GACjBA,EAAElB,QAAQ,gBAAkB,GAC5BxJ,KAAKqV,eAAeZ,EAE5B,CAEQC,KAAKD,GACTzU,KAAKqV,eAAeZ,EACxB,CAEAnP,uBACItF,KAAKkD,gBAAgBqC,OACzB,EAGJC,eAAeC,OAAO,gBAAiB2O,E,wGEhJhC,MAAMvP,EAAiB,QACjBE,EAAsB,cAE7B,MAAO8Q,UAAuBhT,YAGhCC,cACIC,QAHI,KAAAC,UAAW,CAInB,CAEAC,oBACSjD,KAAKgD,WACNhD,KAAKoD,UCdN,+CDeCpD,KAAKgD,UAAW,EAChBhD,KAAK8V,WAAa9V,KAAKuD,cAAc,2BACrCvD,KAAK2G,mBAEb,CAEAE,2BACI7G,KAAK2G,kBACT,CAEWG,gCACP,MAAO,CAACjC,EAAgBE,EAC5B,CAEQ4B,mBACJ,IAAK3G,KAAKgD,SACN,OAEJ,IAAI+S,EAAQ/V,KAAKgH,aAAanC,IAAmB,GACjDkR,EAAQA,EAAMC,QAAQ,MAAO,IAC7BhW,KAAK8V,WAAW7O,UAAUgP,OAAO,+BAAgCF,EAAMzV,OAAS,GAChFN,KAAK8V,WAAWrR,UAAYsR,EAC5B,IAAI/Q,EAAQhF,KAAKgH,aAAajC,GAC9B/E,KAAK0E,MAAMwR,gBAAkBlR,EAAQ,IAAIA,IAAU,EACvD,CAEAM,uBAEA,EAEG,MAAM6Q,EAAwB,kBACrC3Q,eAAeC,OAAO0Q,EAAuBN,E,uDE5CzCO,E,MAA0B,GAA4B,KAE1DA,EAAwBjV,KAAK,CAACxB,EAAOsB,GAAI,ilCAAklC,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,6BAA6B,qDAAqD,MAAQ,GAAG,SAAW,qiBAAqiB,eAAiB,CAAC,8hCAAgiC,2vBAA6vB,WAAa,MAE/lH,IAAemV,EAAwBrW,U","sources":["webpack://pockmas/./node_modules/css-loader/dist/runtime/api.js","webpack://pockmas/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://pockmas/./node_modules/html-loader/dist/runtime/getUrl.js","webpack://pockmas/./src/components/DepartureDisplay/DepartureDisplay.html","webpack://pockmas/./src/time-format.ts","webpack://pockmas/./src/components/DepartureDisplay/DepartureDisplay.ts","webpack://pockmas/./src/components/FlipDisplay/FlipDisplay.ts","webpack://pockmas/./src/components/FlipDisplay/FlipDisplay.html","webpack://pockmas/./src/components/FlipTimeDisplay/FlipTimeDisplay.ts","webpack://pockmas/./src/components/FlipTimeDisplay/FlipTimeDisplay.html","webpack://pockmas/./src/components/Timeline/Timeline.ts","webpack://pockmas/./src/components/Timeline/Timeline.html","webpack://pockmas/./src/utils/addStyleSheet.ts","webpack://pockmas/./src/components/TimelineElement/TimelineElement.ts","webpack://pockmas/./src/components/TimelineElement/TimelineElement.html","webpack://pockmas/./src/components/LegDisplay/WalkingLegDisplay.ts","webpack://pockmas/./src/components/LegDisplay/WalkingLegDisplay.html","webpack://pockmas/./src/components/LegDisplay/TransitLegDisplay.ts","webpack://pockmas/./src/components/LegDisplay/TransitLegDisplay.html","webpack://pockmas/./src/components/TimelineGoalElement/TimelineGoalElement.ts","webpack://pockmas/./src/components/TimelineGoalElement/TimelineGoalElement.html","webpack://pockmas/./src/components/TimelineCurrentTimeElement/TimelineCurrentTimeElement.ts","webpack://pockmas/./src/components/TimelineCurrentTimeElement/TimelineCurrentTimeElement.html","webpack://pockmas/./src/state/actions/RefreshRouteDetails.ts","webpack://pockmas/./src/utils/FgInterval.ts","webpack://pockmas/./src/components/RouteDetails/RouteDetails.ts","webpack://pockmas/./src/components/RouteDetails/RouteDetails.html","webpack://pockmas/./src/components/TransitDisplay/TransitDisplay.ts","webpack://pockmas/./src/components/TransitDisplay/TransitDisplay.html","webpack://pockmas/./src/components/Timeline/Timeline.scss"],"sourcesContent":["\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  }\n\n  if (!url) {\n    return url;\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = String(url.__esModule ? url.default : url);\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  }\n\n  if (options.maybeNeedQuotes && /[\\t\\n\\f\\r \"'=<>`]/.test(url)) {\n    return \"\\\"\".concat(url, \"\\\"\");\n  }\n\n  return url;\n};","// Imports\nimport ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___ from \"../../../node_modules/html-loader/dist/runtime/getUrl.js\";\nvar ___HTML_LOADER_IMPORT_0___ = new URL(\"../../icons/transport_stop.svg\", import.meta.url);\n// Module\nvar ___HTML_LOADER_REPLACEMENT_0___ = ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___(___HTML_LOADER_IMPORT_0___);\nvar code = \"<div class=\\\"departure-display__departure\\\"> <flip-time-display class=\\\"departure-display__departure-time\\\"></flip-time-display> <div> <transit-display class=\\\"departure-display__departure-line\\\"></transit-display> </div> <span class=\\\"departure-display__departure-headsign\\\"></span> <span class=\\\"departure-display__planned-time\\\"></span> <span class=\\\"departure-display__departure-stop-display\\\"> <img class=\\\"departure-display__departure-stop-img\\\" src=\\\"\" + ___HTML_LOADER_REPLACEMENT_0___ + \"\\\" alt=\\\"Abfahrtsstation\\\">Abfahrt: <span class=\\\"departure-display__departure-stop\\\"></span> </span> </div>\";\n// Exports\nexport default code;","export const timeFormat = Intl.DateTimeFormat([], { hour: \"2-digit\", minute: \"2-digit\" });","import template from \"./DepartureDisplay.html\";\nimport \"./DepartureDisplay.scss\";\nimport \"../FlipTimeDisplay/FlipTimeDisplay\";\nimport { RouteAttribute, RouteColorAttribute, TransitDisplay } from \"../TransitDisplay/TransitDisplay\";\nimport { FlipTimeDisplay } from \"../FlipTimeDisplay/FlipTimeDisplay\";\nimport { Departure } from \"../../lib/Departure\";\nimport { timeFormat } from \"../../time-format\";\n\nexport class DepartureDisplay extends HTMLElement {\n    private rendered = false;\n    private departureTime: FlipTimeDisplay;\n    private departureLine: TransitDisplay;\n    private departureStop: HTMLSpanElement;\n    private departureHeadsign: HTMLSpanElement;\n    private plannedTime: HTMLSpanElement;\n    private abortController: AbortController;\n    private renderedDeparture: Departure;\n    private nextDeparture: Departure;\n\n    constructor() {\n        super();\n\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        if (!this.rendered) {\n            this.innerHTML = template;\n            this.rendered = true;\n            this.departureTime = this.querySelector(\".departure-display__departure-time\");\n            this.plannedTime = this.querySelector(\".departure-display__planned-time\");\n            this.departureLine = this.querySelector(\".departure-display__departure-line\");\n            this.departureStop = this.querySelector(\".departure-display__departure-stop\");\n            this.departureHeadsign = this.querySelector(\".departure-display__departure-headsign\");\n        }\n        this.render();\n    }\n\n    private render() {\n        if (this.rendered && this.nextDeparture) {\n            if (this.renderedDeparture?.plannedDeparture !== this.nextDeparture.plannedDeparture ||\n                this.renderedDeparture?.delay !== this.nextDeparture.delay ||\n                this.renderedDeparture.isRealtime !== this.nextDeparture.isRealtime) {\n                let departureTime = new Date(this.nextDeparture.plannedDeparture.getTime() + this.nextDeparture.delay * 1000);\n                let depratureTimeFormatted = timeFormat.format(departureTime);\n                this.departureTime.setAttribute(\"time\", \"\" + (departureTime.getTime()));\n                this.departureTime.setAttribute(\"title\", `Abfahrt um ${depratureTimeFormatted}`);\n                let palannedDepatureFormatted = timeFormat.format(this.nextDeparture.plannedDeparture);\n                let delayed = palannedDepatureFormatted != depratureTimeFormatted;\n                this.plannedTime.innerText = `${this.nextDeparture.isRealtime ? delayed ? palannedDepatureFormatted : \"pünktlich\" : \"\"}`;\n                this.plannedTime.style.textDecoration = delayed ? \"line-through\" : \"none\";\n            }\n            if (this.renderedDeparture?.route.id !== this.nextDeparture.route.id) {\n                this.departureLine.setAttribute(RouteAttribute, this.nextDeparture.route.name);\n                this.departureLine.setAttribute(RouteColorAttribute, this.nextDeparture.route.color);\n                this.departureHeadsign.innerText = this.nextDeparture.route.headsign;\n            }\n            if (this.renderedDeparture?.stop.stopId !== this.nextDeparture.stop.stopId) {\n                this.departureStop.innerText = this.nextDeparture.stop.stopName;\n            }\n        }\n        this.renderedDeparture = this.nextDeparture;\n    }\n\n    update(data: Departure) {\n        this.nextDeparture = data;\n        this.render();\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n}\n\ncustomElements.define(\"departure-display\", DepartureDisplay);\n","import template from \"./FlipDisplay.html\";\n\nexport const TextAttribute = \"text\";\n\nexport class FlipDisplay extends HTMLElement {\n\n    private isFront = true;\n    private beforeValue: string = null;\n    private frontSpan: HTMLSpanElement;\n    private backSpan: HTMLSpanElement;\n    private boxInner: HTMLSpanElement;\n    private actualSpan: HTMLSpanElement;\n    private animating = false;\n    private connected = false;\n    private queuedValue: string = null;\n    private listener: () => void;\n\n    constructor() {\n        super();\n        let shadowRoot = this.attachShadow({ mode: \"open\" });\n        shadowRoot.innerHTML = template;\n        this.frontSpan = shadowRoot.querySelector(\".front\");\n        this.backSpan = shadowRoot.querySelector(\".back\");\n        this.boxInner = shadowRoot.querySelector(\".box-inner\");\n        this.actualSpan = shadowRoot.querySelector(\".actual\");\n        this.listener = () => this.animationEnded();\n    }\n\n    connectedCallback() {\n        this.connected = true;\n        this.boxInner.addEventListener(\"animationend\", this.listener);\n    }\n\n    private animationEnded() {\n        this.animating = false;\n        if (this.queuedValue) {\n            this.updateAttributes();\n            this.queuedValue = null;\n        }\n    }\n\n    disconnectedCallback() {\n        this.connected = false;\n        this.boxInner.removeEventListener(\"animationend\", this.listener);\n    }\n\n    attributeChangedCallback() {\n        this.updateAttributes();\n    }\n\n    static get observedAttributes() {\n        return [TextAttribute];\n    }\n\n    private updateAttributes() {\n        let value = this.getAttribute(TextAttribute);\n        if (!this.beforeValue) {\n            this.isFront = true;\n            this.frontSpan.innerText = value;\n            this.backSpan.innerText = \"\";\n            this.boxInner.classList.remove(\"show-back\");\n            this.boxInner.classList.remove(\"show-front\");\n            this.beforeValue = value;\n            this.actualSpan.innerText = value;\n        } else if (value !== this.beforeValue) {\n            if (this.animating) {\n                this.queuedValue = value;\n            } else {\n                this.isFront = !this.isFront;\n                if (this.isFront) {\n                    this.frontSpan.innerText = value;\n                    this.boxInner.classList.remove(\"show-back\");\n                    this.boxInner.classList.add(\"show-front\");\n                } else {\n                    this.backSpan.innerText = value;\n                    this.boxInner.classList.remove(\"show-front\");\n                    this.boxInner.classList.add(\"show-back\");\n                }\n                if (this.connected) {\n                    this.animating = true;\n                }\n                this.actualSpan.innerText = value;\n                this.beforeValue = value;\n            }\n        }\n    }\n}\n\ncustomElements.define(\"flip-display\", FlipDisplay);","// Module\nvar code = \"<style>.box{perspective:5em;display:inline-block}.box-inner{transform-style:preserve-3d;display:inline-block;position:relative;border-radius:2px;transition:transform,box-shadow;animation-timing-function:ease-in-out}.back,.front{backface-visibility:hidden;display:inline-block;position:absolute;left:0}.front{transform:rotateX(0)}.back{transform:rotateX(180deg)}.actual{visibility:hidden}.show-back{animation:flip-front-to-back .8s;transform:rotateX(180deg)}.show-front{animation:flip-back-to-front .8s;transform:rotateX(0)}@keyframes flip-back-to-front{0%{transform:rotateX(180deg);box-shadow:none}10%{transform:rotateX(180deg)}50%{box-shadow:0 0 0 -1px rgb(0 0 0 / 20%),0 0 5px 0 rgb(0 0 0 / 14%),0 0 10px 0 rgb(0 0 0 / 12%)}90%{transform:rotateX(360deg)}100%{transform:rotateX(360deg);box-shadow:none}}@keyframes flip-front-to-back{0%{transform:rotateX(0);box-shadow:none}10%{transform:rotateX(0)}50%{box-shadow:0 0 0 -1px rgb(0 0 0 / 20%),0 0 5px 0 rgb(0 0 0 / 14%),0 0 10px 0 rgb(0 0 0 / 12%)}90%{transform:rotateX(180deg)}100%{transform:rotateX(180deg);box-shadow:none}}</style><span class=\\\"box\\\"><span class=\\\"box-inner\\\"><span class=\\\"front\\\" aria-hidden=\\\"true\\\"></span><span class=\\\"back\\\" aria-hidden=\\\"true\\\"></span><span class=\\\"actual\\\"></span></span></span>\";\n// Exports\nexport default code;","import \"../FlipDisplay/FlipDisplay\";\nimport { FlipDisplay, TextAttribute } from \"../FlipDisplay/FlipDisplay\";\nimport template from \"./FlipTimeDisplay.html\";\n\nexport const TimeAttribute = \"time\";\n\nexport class FlipTimeDisplay extends HTMLElement {\n    private digits: FlipDisplay[];\n\n    constructor() {\n        super();\n        let shadowRoot = this.attachShadow({ mode: \"open\" });\n        shadowRoot.innerHTML = template;\n        this.digits = Array.from(shadowRoot.querySelectorAll(\"flip-display\"));\n    }\n\n    connectedCallback() {\n    }\n\n    disconnectedCallback() {\n\n    }\n\n    attributeChangedCallback() {\n        this.updateAttributes();\n    }\n\n    static get observedAttributes() {\n        return [TimeAttribute];\n    }\n\n    private updateAttributes() {\n        let value = this.getAttribute(TimeAttribute);\n        let time = new Date(parseInt(value));\n        let hours = time.getHours();\n        let minutes = time.getMinutes();\n        this.digits[0].setAttribute(TextAttribute, ((hours / 10) >> 0).toString());\n        this.digits[1].setAttribute(TextAttribute, (hours % 10).toString());\n        this.digits[2].setAttribute(TextAttribute, ((minutes / 10) >> 0).toString());\n        this.digits[3].setAttribute(TextAttribute, (minutes % 10).toString());\n    }\n}\n\ncustomElements.define(\"flip-time-display\", FlipTimeDisplay);","// Module\nvar code = \"<flip-display></flip-display><flip-display></flip-display>:<flip-display></flip-display><flip-display></flip-display>\";\n// Exports\nexport default code;","import { abortableEventListener } from \"../../utils/abortableEventListener\";\nimport { addStyleSheet } from \"../../utils/addStyleSheet\";\nimport { TimelineElement } from \"../TimelineElement/TimelineElement\";\nimport template from \"./Timeline.html\";\nimport cssContent from \"./Timeline.scss\" assert { type: \"css\" };\n\nconst templateNode = document.createElement(\"template\");\ntemplateNode.innerHTML = template;\n\nconst svgXmlNs = \"http://www.w3.org/2000/svg\";\n\nfunction median(values: number[]) {\n    values.sort((a, b) => a - b);\n    let half = Math.floor(values.length / 2);\n    if (values.length % 2) {\n        return values[half];\n    }\n    return (values[half - 1] + values[half]) / 2.0;\n}\n\nclass TimelineElementsController {\n\n    private controllerMap: Map<TimelineElement, TimelineElementController> = new Map();\n    private elementsBySlot: Map<string, TimelineElement[]> = new Map();\n    timelineHeight: number;\n\n    constructor(private svg: SVGElement, private resizeObserver: ResizeObserver) {\n\n    }\n\n    private add(e: TimelineElement) {\n        let ctrl = new TimelineElementController(e);\n        this.resizeObserver.observe(ctrl.timlineElement);\n        this.svg.appendChild(ctrl.connection);\n        this.controllerMap.set(e, ctrl);\n        return ctrl;\n    }\n\n    private remove(e: TimelineElement) {\n        this.resizeObserver.unobserve(e);\n        let ctrl = this.controllerMap.get(e);\n        this.svg.removeChild(ctrl.connection);\n        this.controllerMap.delete(e);\n    }\n\n    elementsChange(newElements: TimelineElement[]) {\n        for (let e of this.controllerMap.keys()) {\n            if (newElements.indexOf(e) < 0) {\n                this.remove(e);\n            }\n        }\n        this.elementsBySlot = new Map();\n        for (let e of newElements) {\n            let ctrl = this.controllerMap.get(e);\n            if (!ctrl) {\n                ctrl = this.add(e);\n            }\n            let slot = e.getAttribute(\"slot\");\n            let slotList: TimelineElement[];\n            if (!(slotList = this.elementsBySlot.get(slot))) {\n                slotList = [];\n                this.elementsBySlot.set(slot, slotList);\n            } else {\n                let prev = this.controllerMap.get(slotList[slotList.length - 1]);\n                ctrl.previous = this.controllerMap.get(slotList[slotList.length - 1]);\n                prev.next = ctrl;\n            }\n            slotList.push(e);\n        }\n    }\n\n    layoutSlot(timelineSlot: string, offsetTime: number, pixelPerMs: number) {\n        let timelineElements = this.elementsBySlot.get(timelineSlot) || [];\n        for (let e of timelineElements) {\n            let ctrl = this.controllerMap.get(e);\n            ctrl.layout(offsetTime, pixelPerMs);\n        }\n    }\n\n    allControllers() {\n        return Array.from(this.controllerMap.values());\n    }\n\n    layoutTimeline(pixelPerMs: number) {\n        let startCtrls = Array.from(this.elementsBySlot.values()).map(slot => this.controllerMap.get(slot[0]));\n        if (startCtrls.length == 0) {\n            this.timelineHeight = 0;\n            return;\n        }\n        let offset = startCtrls.map(c => +c.timlineElement.time).sort((a, b) => a - b)[0];\n        for (let slot of this.elementsBySlot.keys()) {\n            this.layoutSlot(slot, offset, pixelPerMs);\n        }\n        let boxOffset = -startCtrls.sort((a, b) => a.boxStartPositionY - b.boxStartPositionY)[0].boxStartPositionY;\n        let all = this.allControllers();\n        for (let ctrl of all) {\n            ctrl.moveAll(boxOffset);\n        }\n        // let timelineOffset = median(all.map(e => e.connectionHeight()));\n        // for (let ctrl of all) {\n        //     ctrl.moveTimeline(timelineOffset);\n        // }\n        let endCtrls = Array.from(this.elementsBySlot.values()).map(slot => this.controllerMap.get(slot[slot.length - 1]));\n        this.timelineHeight = endCtrls.sort((a, b) => b.boxStartPositionY - a.boxStartPositionY)[0].boxEndPositionY;\n    }\n\n    render(linePositionX: number) {\n        for (let ctrl of this.allControllers()) {\n            ctrl.render(linePositionX);\n        }\n    }\n}\n\nclass TimelineElementController {\n    connection: SVGPathElement;\n\n    private _timePositionY: number;\n    private _boxStartPositionY: number;\n    private _boxEndPositionY: number;\n    private _connectionPositionY: number;\n    private _rendered = false;\n\n    previous: TimelineElementController;\n    next: TimelineElementController;\n\n    private currentShortAnimation: {\n        animation: Animation,\n        targetY: number;\n    };\n    private moveToBoxAnimation: Animation;\n    private moveToConnectionAnimation: Animation;\n    private moveTo: {\n        boxTargetStartPositionY: number;\n        timeTargetPositionY: number;\n        speedPxPerMs: number;\n    }\n\n    get boxStartPositionY() {\n        return this._boxStartPositionY;\n    }\n\n    get boxEndPositionY() {\n        return this._boxEndPositionY;\n    }\n\n    connectionHeight() {\n        return this._connectionPositionY - this._timePositionY;\n    }\n\n    constructor(public timlineElement: TimelineElement) {\n        this.connection = document.createElementNS(svgXmlNs, \"path\");\n        this.connection.classList.add(\"connection\");\n    }\n\n    layout(offsetTime: number, pixelPerMs: number) {\n        let connectionOffset = this.timlineElement.clientHeight / 2;\n        let timeOffset = +this.timlineElement.time - offsetTime;\n        this._timePositionY = timeOffset * pixelPerMs;\n        this._boxStartPositionY = this._timePositionY - connectionOffset;\n        this._boxEndPositionY = this._boxStartPositionY + this.timlineElement.clientHeight;\n        this._connectionPositionY = this._boxStartPositionY + connectionOffset;\n        this.moveTo = this.timlineElement.moveTo ? {\n            timeTargetPositionY: (+this.timlineElement.moveTo - offsetTime) * pixelPerMs,\n            boxTargetStartPositionY: (+this.timlineElement.moveTo - offsetTime) * pixelPerMs - connectionOffset,\n            speedPxPerMs: pixelPerMs\n        } : null;\n\n        if (this.previous) {\n            let overlap = this.previous._boxEndPositionY - this._boxStartPositionY;\n            if (overlap > 0) {\n                this.previous.moveBox(-overlap / 2);\n                this.moveBox(overlap / 2);\n            }\n        }\n    }\n\n    private moveBox(amount: number) {\n        this._boxEndPositionY += amount;\n        this._boxStartPositionY += amount;\n        this._connectionPositionY += amount;\n        if (this.moveTo) {\n            this.moveTo.boxTargetStartPositionY += amount;\n        }\n        if (amount < 0 && this.previous) {\n            let overlap = this.previous._boxEndPositionY - this._boxStartPositionY;\n            if (overlap > 0) {\n                this.previous.moveBox(-overlap);\n            }\n        }\n    }\n\n    moveAll(amount: number) {\n        this._boxStartPositionY += amount;\n        this._boxEndPositionY += amount;\n        this._timePositionY += amount;\n        this._connectionPositionY += amount;\n        if (this.moveTo) {\n            this.moveTo.boxTargetStartPositionY += amount;\n            this.moveTo.timeTargetPositionY += amount;\n        }\n    }\n\n    moveTimeline(amount: number) {\n        this._timePositionY += amount;\n    }\n\n    private createArc(startpoint: DOMPoint, endpoint: DOMPoint) {\n        let midx = startpoint.x + (endpoint.x - startpoint.x) / 2;\n        return `M ${startpoint.x} ${startpoint.y} C ${midx} ${startpoint.y} ${midx} ${endpoint.y} ${endpoint.x} ${endpoint.y}`;\n    }\n\n    cancelMoveAnimations() {\n        if (this.moveToBoxAnimation) {\n            this.moveToBoxAnimation.cancel();\n            this.moveToBoxAnimation = null;\n        }\n        if (this.moveToConnectionAnimation) {\n            this.moveToConnectionAnimation.cancel();\n            this.moveToConnectionAnimation = null;\n        }\n    }\n\n    private currentYPos() {\n        return this.timlineElement.getBoundingClientRect().top - this.timlineElement.parentElement.getBoundingClientRect().top;\n    }\n\n    render(linePositionX: number) {\n        this.cancelMoveAnimations();\n        if (this._rendered) {\n            let from = this.currentYPos();\n            if (Math.abs(from - this._boxStartPositionY) > 1) {\n                if (null != this.currentShortAnimation && this.currentShortAnimation.targetY != this._boxStartPositionY) {\n                    this.currentShortAnimation.animation.cancel();\n                    console.log(\"timeline: canceled animation\");\n                }\n                this.currentShortAnimation = {\n                    animation: this.timlineElement.animate([{\n                        transform: `translateY(${from}px)`\n                    },\n                    {\n                        transform: `translateY(${this._boxStartPositionY}px)`\n                    }], { duration: 200 }), targetY: this._boxStartPositionY\n                };\n                this.currentShortAnimation.animation.addEventListener(\"finish\", () => {\n                    this.currentShortAnimation = null;\n                });\n            }\n        }\n        this.timlineElement.style.transform = `translateY(${this._boxStartPositionY}px)`;\n        let startX = linePositionX < this.timlineElement.offsetLeft ?\n            this.timlineElement.offsetLeft : this.timlineElement.offsetLeft + this.timlineElement.clientWidth;\n        let startpoint = new DOMPoint(startX, this._connectionPositionY);\n\n        let endpoint = new DOMPoint(linePositionX, this._timePositionY);\n\n        this.connection.setAttribute(\"d\", this.createArc(startpoint, endpoint));\n        this._rendered = true;\n        // (this.currentShortAnimation?.animation?.finished || Promise.resolve()).then(() => {\n        //     this.playMoveAnimation();\n        // });\n    }\n\n    private playMoveAnimation() {\n        if (this.moveTo) {\n            let from = this.currentYPos();\n            this.moveToBoxAnimation = this.timlineElement.animate([{\n                transform: `translateY(${this._boxStartPositionY}px)`\n            },\n            {\n                transform: `translateY(${this.moveTo.boxTargetStartPositionY}px)`\n            }], { duration: 1 / this.moveTo.speedPxPerMs * Math.abs((this._boxStartPositionY - this.moveTo.boxTargetStartPositionY)) });\n            this.moveToBoxAnimation.finished.then(() => {\n                this.moveToBoxAnimation = null;\n            });\n        }\n    }\n}\n\nexport class Timeline extends HTMLElement {\n    onTimechange() {\n        this.triggerLayout(\"timechange\");\n    }\n    private abortController: AbortController;\n    private resizeObserver = new ResizeObserver(() => this.resizeCallback());\n    private timelinePath: SVGPathElement;\n    private timelineContent: HTMLDivElement;\n    private timeline1Box: HTMLDivElement;\n    private timelinePlaceholder: HTMLDivElement;\n    private svg: SVGElement;\n    private layoutTriggered = false;\n    private elementsCtrl: TimelineElementsController;\n    // private _rendered : boolean;\n\n    constructor() {\n        super();\n        this.attachShadow({ mode: \"open\" });\n        addStyleSheet(this.shadowRoot, cssContent);\n        this.shadowRoot.appendChild(templateNode.content.cloneNode(true));\n        this.timelinePath = this.shadowRoot.querySelector(\"#timeline-path\");\n        this.timelineContent = this.shadowRoot.querySelector(\"#timeline-content\");\n        this.svg = this.shadowRoot.querySelector(\"svg\");\n        this.timeline1Box = this.shadowRoot.querySelector(\"#timeline1-box\");\n        this.timelinePlaceholder = this.shadowRoot.querySelector(\"#timeline-placeholder\");\n\n        this.elementsCtrl = new TimelineElementsController(this.svg, this.resizeObserver);\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        abortableEventListener(this.shadowRoot, \"slotchange\", () => this.slotchangeCallback(), this.abortController.signal);\n        abortableEventListener(this, \"timechange\", () => this.onTimechange(), this.abortController.signal);\n        this.resizeObserver.observe(this);\n        this.resizeObserver.observe(this.timeline1Box);\n\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n        this.resizeObserver.unobserve(this);\n        this.resizeObserver.unobserve(this.timeline1Box);\n    }\n\n    private slotchangeCallback() {\n        this.elementsCtrl.elementsChange(Array.from(this.querySelectorAll(\"timeline-element\")));\n        this.triggerLayout(\"slotchange\");\n    }\n\n    private resizeCallback() {\n        this.triggerLayout(\"resize\");\n    }\n\n\n\n    private triggerLayout(reason: string) {\n        if (this.layoutTriggered) {\n            return;\n        }\n        console.log(\"layout\", reason);\n        this.layoutTriggered = true;\n        requestAnimationFrame(() => {\n            this.layout();\n        })\n    }\n\n    private layout() {\n        this.layoutTriggered = false;\n        let pixelPerMs = this.getTimelineScale();\n        this.elementsCtrl.layoutTimeline(pixelPerMs)\n\n        console.log(\"ppm\", pixelPerMs * 60 * 1000);\n        const linePositionX = this.timelinePlaceholder.offsetLeft + this.timelinePlaceholder.clientWidth / 2;\n        this.elementsCtrl.render(linePositionX);\n\n        this.timelineContent.style.height = `${this.elementsCtrl.timelineHeight}px`;\n        if (this.elementsCtrl.timelineHeight > 0) { // no initial animation, TODO handle better\n            this.timelinePath.setAttribute(\"d\", `M ${linePositionX} ${0} L ${linePositionX} ${this.elementsCtrl.timelineHeight}`);\n        }\n    }\n\n    private getTimelineScale(): number {\n        let elements = Array.from(this.elementsCtrl.allControllers()).map(e => e.timlineElement);\n        const maxPixelPerMin = 2 * parseFloat(getComputedStyle(this).fontSize);\n        const maxPixelPerMs = maxPixelPerMin / (1 * 60 * 1000);\n        if (elements.length < 1) {\n            return 1;\n        } else if (elements.length == 1) {\n            return 1;\n        }\n        let pixelPerMs = 0;\n        for (let i = 1; i < elements.length; i++) {\n            let timediff = +elements[i].time - +elements[i - 1].time;\n            let size = elements[i - 1].clientHeight;\n            if (timediff == 0) {\n                pixelPerMs = maxPixelPerMs;\n            } else {\n                pixelPerMs = Math.max(size / timediff, pixelPerMs);\n            }\n        }\n        let times = elements.map(t => +t.time).sort((a, b) => a - b);\n        let overallSize = (times[times.length - 1] - times[0]) * pixelPerMs;\n        const minHeight = window.innerHeight * 0.65;\n        const maxHeight = window.innerHeight * 1.4;\n        if (overallSize < minHeight) {\n            pixelPerMs = minHeight / overallSize * pixelPerMs;\n        } else {\n            if (overallSize > maxHeight) {\n                pixelPerMs = maxHeight / overallSize * pixelPerMs;\n            }\n            pixelPerMs = Math.min(Math.max(maxPixelPerMs, minHeight / overallSize * pixelPerMs), pixelPerMs);\n        }\n        return pixelPerMs;\n    }\n}\n\ncustomElements.define(\"app-timeline\", Timeline);\n","// Module\nvar code = \"<div id=\\\"timeline-content\\\"> <div id=\\\"timeline-element-grid\\\"> <div id=\\\"timeline1-box\\\"> <slot name=\\\"timeline1\\\"></slot> </div> <div id=\\\"timeline-placeholder\\\"> </div> <div id=\\\"timeline2-box\\\"> <slot name=\\\"timeline2\\\"></slot> </div> </div> <svg xmlns=\\\"http://www.w3.org/2000/svg\\\"> <path id=\\\"timeline-path\\\" d=\\\"M 0 0\\\" stroke=\\\"#000\\\" stroke-width=\\\"3\\\"/> </svg> </div>\";\n// Exports\nexport default code;","\nexport function addStyleSheet(shadowRoot: ShadowRoot, style: string) {\n    // replace this with constructable style sheet thing when safari is ready\n    let styleElement = document.createElement(\"style\");\n    styleElement.innerHTML = style;\n    shadowRoot.appendChild(styleElement);\n}\n","import template from \"./TimelineElement.html\";\nimport \"./TimelineElement.scss\";\n\nconst TimeAttribute = \"time\";\nconst MoveToAttribute = \"move-to\";\n\nexport class TimelineElement extends HTMLElement {\n\n    private _time: Date;\n\n    private _moveTo: Date | null;\n\n    get time() {\n        return this._time;\n    }\n\n    set time(value: Date) {\n        this.setAttribute(TimeAttribute, value.toISOString());\n    }\n\n    get moveTo() {\n        return this._moveTo;\n    }\n\n    set moveTo(value: Date) {\n        this.setAttribute(MoveToAttribute, value.toISOString());\n    }\n\n    constructor() {\n        super();\n        let shadowRoot = this.attachShadow({ mode: \"open\" });\n        shadowRoot.innerHTML = template;\n    }\n\n    connectedCallback() {\n\n    }\n\n    disconnectedCallback() {\n\n    }\n\n    attributeChangedCallback() {\n        this.updateAttributes();\n    }\n\n    static get observedAttributes() {\n        return [TimeAttribute, MoveToAttribute];\n    }\n\n    private updateAttributes() {\n        let newTime = new Date(this.getAttribute(TimeAttribute));\n        let newMoveToAttr = this.getAttribute(MoveToAttribute);\n        let newMoveTo = newMoveToAttr ? new Date(newMoveToAttr) : null;\n        if (newMoveTo && isNaN(newMoveTo.getTime())) {\n            newMoveTo = null;\n        }\n        let dispatchEvent = newTime != this._time || newMoveTo != this._moveTo;\n        this._time = newTime;\n        this._moveTo = newMoveTo;\n        if (dispatchEvent) {\n            this.dispatchEvent(new CustomEvent(\"timechange\", { bubbles: true, composed: true }));\n        }\n    }\n}\n\ncustomElements.define(\"timeline-element\", TimelineElement);\n\n","// Module\nvar code = \"<div> <slot></slot> </div>\";\n// Exports\nexport default code;","import { Leg } from \"../../lib/Leg\";\nimport { FlipTimeDisplay } from \"../FlipTimeDisplay/FlipTimeDisplay\";\nimport template from \"./WalkingLegDisplay.html\";\nimport \"./WalkingLegDisplay.scss\";\n\nexport class WalkingLegDisplay extends HTMLElement {\n    private rendered: boolean;\n    private legs: Leg[];\n    private fromText: HTMLSpanElement;\n    private toText: HTMLSpanElement;\n    private durationText: HTMLSpanElement;\n    private timestamp : FlipTimeDisplay;\n\n    update(legs: Leg[]) {\n        this.legs = legs;\n        this.render();\n    }\n\n    constructor() {\n        super();\n    }\n\n    connectedCallback() {\n        if (!this.rendered) {\n            this.innerHTML = template;\n            this.fromText = this.querySelector(`[data-ref=\"from\"]`);\n            this.toText = this.querySelector(`[data-ref=\"to\"]`);\n            this.durationText = this.querySelector(`[data-ref=\"duration\"]`);\n            this.timestamp = this.querySelector(`[data-ref=\"timestamp\"]`);\n            this.rendered = true;\n            this.render();\n        }\n    }\n\n    disconnectedCallback() {\n\n    }\n\n    private render() {\n        if (!this.rendered || !this.legs?.length) {\n            return;\n        }\n        let last = this.legs[this.legs.length - 1];\n        let first = this.legs[0];\n        this.timestamp.setAttribute(\"time\", `${first.plannedDeparture.getTime()}`);\n        this.fromText.innerText = first.departureStop.stopName;\n        this.toText.innerText = last.arrivalStop.stopName;\n        this.durationText.innerHTML = `${Math.ceil((+last.arrivalTime - +first.plannedDeparture) / (1000 * 60))}`;\n\n    }\n}\n\ncustomElements.define(\"walking-leg-display\", WalkingLegDisplay);\n","// Module\nvar code = \"<flip-time-display data-ref=\\\"timestamp\\\"></flip-time-display> Gehen von <span data-ref=\\\"from\\\"></span> zu <span data-ref=\\\"to\\\"></span> (Dauer: <span data-ref=\\\"duration\\\"></span> min)\";\n// Exports\nexport default code;","import { Leg } from \"../../lib/Leg\";\nimport { DepartureDisplay } from \"../DepartureDisplay/DepartureDisplay\";\nimport template from \"./TransitLegDisplay.html\";\nimport \"./TransitLegDisplay.scss\";\nimport \"../DepartureDisplay/DepartureDisplay\";\n\nexport class TransitLegDisplay extends HTMLElement {\n    private rendered: boolean;\n    private departureDisplay: DepartureDisplay;\n    private leg: Leg;\n    update(leg: Leg) {\n        this.leg = leg;\n        this.render();\n    }\n\n    constructor() {\n        super();\n\n    }\n\n    connectedCallback() {\n        if (!this.rendered) {\n            this.innerHTML = template;\n            this.rendered = true;\n            this.departureDisplay = this.querySelector(`departure-display`);\n            this.render();\n        }\n    }\n\n    disconnectedCallback() {\n\n    }\n\n    private render() {\n        if (!this.rendered || this.leg == null) {\n            return;\n        }\n        this.departureDisplay.update({\n            delay: this.leg.delay,\n            plannedDeparture: this.leg.plannedDeparture,\n            route: this.leg.route,\n            stop: this.leg.departureStop,\n            tripId: this.leg.tripId,\n            isRealtime: this.leg.isRealtime\n        });\n    }\n}\n\ncustomElements.define(\"transit-leg-display\", TransitLegDisplay);\n","// Module\nvar code = \"<departure-display></departure-display>\";\n// Exports\nexport default code;","import { Leg } from \"../../lib/Leg\";\nimport { FlipTimeDisplay } from \"../FlipTimeDisplay/FlipTimeDisplay\";\nimport template from \"./TimelineGoalElement.html\";\nimport \"./TimelineGoalElement.scss\";\n\nexport class TimelineGoalElement extends HTMLElement {\n    private rendered = false;\n    private flipTimeDisplay: FlipTimeDisplay;\n    private goalLabel: HTMLSpanElement;\n    constructor() {\n        super();\n    }\n\n    connectedCallback() {\n        if (!this.rendered) {\n            this.rendered = true;\n            this.innerHTML = template;\n            this.flipTimeDisplay = this.querySelector(\"flip-time-display\");\n            this.goalLabel = this.querySelector(`[data-ref=\"goal\"]`);\n        }\n    }\n\n    setLeg(lastLeg: Leg) {\n        this.flipTimeDisplay.setAttribute(\"time\", `${new Date(lastLeg.arrivalTime.getTime() + lastLeg.delay * 1000).getTime()}`);\n        this.goalLabel.innerText = lastLeg.arrivalStop.stopName;\n    }\n\n    disconnectedCallback() {\n    }\n}\n\ncustomElements.define(\"timeline-goal-element\", TimelineGoalElement);\n","// Module\nvar code = \"<flip-time-display></flip-time-display> Ziel <span data-ref=\\\"goal\\\"></span>\";\n// Exports\nexport default code;","import { FlipTimeDisplay } from \"../FlipTimeDisplay/FlipTimeDisplay\";\nimport template from \"./TimelineCurrentTimeElement.html\";\nimport \"./TimelineCurrentTimeElement.scss\";\n\nexport class TimelineCurrentTimeElement extends HTMLElement {\n    private rendered = false;\n    private flipTimeDisplay: FlipTimeDisplay;\n    constructor() {\n        super();\n    }\n\n    connectedCallback() {\n        if (!this.rendered) {\n            this.rendered = true;\n            this.innerHTML = template;\n            this.flipTimeDisplay = this.querySelector(\"flip-time-display\");\n        }\n    }\n\n    setTime(d: Date) {\n        this.flipTimeDisplay.setAttribute(\"time\", `${d.getTime()}`);\n    }\n\n    disconnectedCallback() {\n    }\n}\n\ncustomElements.define(\"timeline-current-time-element\", TimelineCurrentTimeElement);\n","// Module\nvar code = \"<flip-time-display></flip-time-display>\";\n// Exports\nexport default code;","import { Action } from \"./Action\";\nimport { ActionType } from \"./ActionType\";\n\n\nexport class RefreshRouteDetails implements Action {\n    constructor() { }\n    readonly type = ActionType.RefreshRouteDetails;\n}","import { abortableEventListener } from \"./abortableEventListener\";\n\nexport class FgInterval {\n    private timeout: any;\n    private active: boolean = true;\n\n    constructor(private callback: () => void,\n        private interval: number,\n        public immediateOnFocus: boolean,\n        private signal: AbortSignal) {\n        if (FgInterval.registeredIntervals.length == 0) {\n            FgInterval.registerEvents();\n        }\n        FgInterval.registeredIntervals.push(this);\n        signal.addEventListener(\"abort\", () => {\n            this.stopTimeout();\n            FgInterval.registeredIntervals = FgInterval.registeredIntervals.filter(i => this != i);\n            if (FgInterval.registeredIntervals.length == 0) {\n                FgInterval.abortController.abort();\n            }\n        });\n        this.startTimeout();\n    }\n\n    static registeredIntervals: FgInterval[] = [];\n    static abortController: AbortController;\n    static active: boolean = true;\n\n    static registerEvents() {\n        FgInterval.abortController = new AbortController();\n        abortableEventListener(window, \"focus\", () => FgInterval.focus(), FgInterval.abortController.signal);\n        abortableEventListener(document, \"focus\", () => FgInterval.focus(), FgInterval.abortController.signal);\n        abortableEventListener(window, \"blur\", () => FgInterval.blur(), FgInterval.abortController.signal);\n        abortableEventListener(document, \"blur\", () => FgInterval.blur(), FgInterval.abortController.signal);\n    }\n\n    startTimeoutOnFocus() {\n        if (!this.signal.aborted) {\n            this.active = true;\n            this.startTimeout();\n            if (this.immediateOnFocus) {\n                this.callback();\n            }\n        }\n    }\n\n    stopTimeout() {\n        this.active = false;\n        clearTimeout(this.timeout);\n    }\n\n    private startTimeout() {\n        if (this.active) {\n            this.timeout = setTimeout(() => {\n                if (this.active) {\n                    this.callback();\n                    this.startTimeout();\n                }\n            }, this.interval);\n        }\n    }\n\n    static focus() {\n        this.active = true;\n        for (let i of this.registeredIntervals) {\n            i.startTimeoutOnFocus();\n        }\n    }\n\n    static blur() {\n        this.active = false;\n        for (let i of this.registeredIntervals) {\n            i.stopTimeout();\n        }\n    }\n}\n","import { State } from \"../../state/State\";\nimport { Store } from \"../../state/Store\";\nimport template from \"./RouteDetails.html\";\nimport \"./RouteDetails.scss\";\nimport { Leg } from \"../../lib/Leg\";\nimport \"../Timeline/Timeline\";\nimport \"../TimelineElement/TimelineElement\";\nimport { TimelineElement } from \"../TimelineElement/TimelineElement\";\nimport { LegType } from \"../../lib/LegType\";\nimport { Timeline } from \"../Timeline/Timeline\";\nimport { WalkingLegDisplay } from \"../LegDisplay/WalkingLegDisplay\";\nimport { TransitLegDisplay } from \"../LegDisplay/TransitLegDisplay\";\nimport { TimelineGoalElement } from \"../TimelineGoalElement/TimelineGoalElement\";\nimport { TimelineCurrentTimeElement } from \"../TimelineCurrentTimeElement/TimelineCurrentTimeElement\";\nimport { RefreshRouteDetails } from \"../../state/actions/RefreshRouteDetails\";\nimport { FgInterval } from \"../../utils/FgInterval\";\n\nexport class RouteDetails extends HTMLElement {\n    private rendered = false;\n    private store: Store;\n    private abortController: AbortController;\n    private timeline: Timeline;\n\n    constructor() {\n        super();\n        this.store = Store.getInstance();\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        if (!this.rendered) {\n            this.innerHTML = template;\n            this.timeline = this.querySelector(\"app-timeline\");\n            this.rendered = true;\n        }\n        this.store.subscribe((s, c) => this.update(s, c), this.abortController.signal);\n        this.init(this.store.state);\n        new FgInterval(() => this.refreshRouteDetails(), 5000, true, this.abortController.signal);\n\n    }\n\n    private refreshRouteDetails() {\n        this.store.postAction(new RefreshRouteDetails());\n    }\n\n    private updateTimelineElementAndReturnNext<T extends Element>(current: TimelineElement,\n        getNext: (e: TimelineElement) => T,\n        create: () => T,\n        update: (t: TimelineElement, e: T) => void): TimelineElement | null {\n        let e = current ? getNext(current) : null;\n        let timelineElement = current;\n        if (!e) {\n            timelineElement = new TimelineElement();\n            e = create();\n            timelineElement.appendChild(e);\n            if (current != null) {\n                current.insertAdjacentElement(\"afterend\", timelineElement);\n                current.remove();\n            } else {\n                this.timeline.appendChild(timelineElement);\n            }\n        }\n        update(timelineElement, e);\n        return <TimelineElement>timelineElement.nextElementSibling;\n    }\n\n    private setRouteDetail(s: State) {\n        if (!s?.routeDetail || !this.rendered) {\n            return;\n        }\n        let currentTime = new Date();\n        let walkingLegs: Leg[] = [];\n        let itinerary = s.routeDetail.itinerary;\n        let currentChild: TimelineElement = <TimelineElement>this.timeline.children[0];\n        for (let i = 0; i < itinerary.legs.length; i++) {\n            let leg = itinerary.legs[i];\n            switch (leg.type) {\n                case LegType.Walking:\n                    walkingLegs.push(leg);\n                    let nextLeg = i < itinerary.legs.length - 1 ? itinerary.legs[i + 1] : null;\n                    if (!nextLeg || nextLeg.type != LegType.Walking) {\n                        currentChild = this.updateTimelineElementAndReturnNext(currentChild,\n                            t => t.children[0] instanceof WalkingLegDisplay ? t.children[0] : null,\n                            () => new WalkingLegDisplay(),\n                            (t, e) => {\n                                t.setAttribute(\"time\", (new Date(walkingLegs[0].plannedDeparture.getTime())).toISOString());\n                                t.setAttribute(\"slot\", \"timeline2\");\n                                e.update(walkingLegs);\n                            });\n                        walkingLegs = [];\n                    }\n                    break;\n                case LegType.Transit:\n                    currentChild = this.updateTimelineElementAndReturnNext(currentChild,\n                        t => t.children[0] instanceof TransitLegDisplay ? t.children[0] : null,\n                        () => new TransitLegDisplay(),\n                        (t, e) => {\n                            t.setAttribute(\"time\", (new Date(leg.plannedDeparture.getTime() + leg.delay * 1000)).toISOString());\n                            t.setAttribute(\"slot\", \"timeline2\");\n                            e.update(leg);\n                        });\n                    break;\n            }\n        }\n        let lastLeg = itinerary.legs[itinerary.legs.length - 1];\n        currentChild = this.updateTimelineElementAndReturnNext(currentChild,\n            t => t.children[0] instanceof TimelineGoalElement ? t.children[0] : null,\n            () => new TimelineGoalElement(),\n            (t, e) => {\n\n                t.setAttribute(\"time\", (new Date(lastLeg.arrivalTime.getTime())).toISOString());\n                t.setAttribute(\"slot\", \"timeline2\");\n                e.setLeg(lastLeg);\n            });\n        if (currentTime.getTime() <= lastLeg.arrivalTime.getTime() + 5 * 60 * 1000) {\n            currentChild = this.updateTimelineElementAndReturnNext(currentChild,\n                t => t.children[0] instanceof TimelineCurrentTimeElement ? t.children[0] : null,\n                () => new TimelineCurrentTimeElement(),\n                (t, e) => {\n                    t.setAttribute(\"time\", (currentTime).toISOString());\n                    // t.setAttribute(\"move-to\", (new Date(lastLeg.arrivalTime.getTime() + lastLeg.delay * 1000).toISOString()));\n                    t.setAttribute(\"slot\", \"timeline1\");\n                    e.setTime(currentTime);\n                });\n        }\n        while (currentChild != null) {\n            let next = <TimelineElement>currentChild.nextElementSibling;\n            currentChild.remove();\n            currentChild = next;\n        }\n    }\n\n    private update(s: State, c: (keyof State)[]): void {\n        if (c.indexOf(\"routeDetail\") > -1) {\n            this.setRouteDetail(s);\n        }\n    }\n\n    private init(s: State) {\n        this.setRouteDetail(s);\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n}\n\ncustomElements.define(\"route-details\", RouteDetails);\n","// Module\nvar code = \"<app-timeline> </app-timeline>\";\n// Exports\nexport default code;","import template from \"./TransitDisplay.html\";\nimport \"./TransitDisplay.scss\";\n\nexport const RouteAttribute = \"route\";\nexport const RouteColorAttribute = \"route-color\";\n\nexport class TransitDisplay extends HTMLElement {\n    private rendered = false;\n    private routeLabel: HTMLSpanElement;\n    constructor() {\n        super();\n    }\n\n    connectedCallback() {\n        if (!this.rendered) {\n            this.innerHTML = template;\n            this.rendered = true;\n            this.routeLabel = this.querySelector(\".transit-display__route\");\n            this.updateAttributes();\n        }\n    }\n\n    attributeChangedCallback() {\n        this.updateAttributes();\n    }\n\n    static get observedAttributes() {\n        return [RouteAttribute, RouteColorAttribute];\n    }\n\n    private updateAttributes() {\n        if (!this.rendered) {\n            return;\n        }\n        let label = this.getAttribute(RouteAttribute) || \"\";\n        label = label.replace(/\\s/g, \"\");\n        this.routeLabel.classList.toggle(\"transit-display__route--long\", label.length > 3);\n        this.routeLabel.innerText = label;\n        let color = this.getAttribute(RouteColorAttribute);\n        this.style.backgroundColor = color ? `#${color}` : \"\";\n    }\n\n    disconnectedCallback() {\n\n    }\n}\nexport const TransitDisplayTagName = \"transit-display\";\ncustomElements.define(TransitDisplayTagName, TransitDisplay);\n","// Module\nvar code = \"<span class=\\\"transit-display__route\\\"></span>\";\n// Exports\nexport default code;","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--primary: #00e676;--background: white;--text: black;--border: #e0e0e0;--hover: #f0f0f0;--focus: #e6fff3;--text-disabled: #999999;--timeline--time:#f0f0f0;--timeline--walking:#999999;--button-background: #fff;--button-border: #999999;--button-background--hover: #f0f0f0;--button-background--active: #e0e0e0;--button-background--focus: #e6fff3}@media(prefers-color-scheme: dark){:root{--background: #383838;--text:#eeeeee;--border: #999999;--hover: #666666;--focus: #667667;--text-disabled: #999999;--timeline--time:#666666;--button-background: #383838;--button-border: #999999;--button-background--hover: #666666;--button-background--active: #555555;--button-background--focus: #667667}}:host{position:relative;display:block}svg{width:100%;height:100%;display:block;position:absolute;top:0;pointer-events:none}svg path.connection{stroke-width:.1em;stroke:var(--primary);fill:none}svg path#timeline-path{stroke-width:.5em;stroke:var(--primary)}#timeline-placeholder{flex-basis:0px;flex-grow:1}#timeline-element-grid{display:flex}#timeline1-box{width:3em}#timeline2-box{flex-grow:9;margin-left:2em}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/theme.scss\",\"webpack://./src/components/Timeline/Timeline.scss\"],\"names\":[],\"mappings\":\"AAKA,MACI,kBAAA,CACA,mBAAA,CACA,aAAA,CACA,iBAAA,CACA,gBAAA,CACA,gBAAA,CACA,wBAAA,CAEA,wBAAA,CACA,2BAAA,CAEA,yBAAA,CACA,wBAAA,CACA,mCAAA,CACA,oCAAA,CACA,mCAAA,CAGJ,mCACI,MACI,qBAAA,CACA,cAAA,CACA,iBAAA,CACA,gBAAA,CACA,gBAAA,CACA,wBAAA,CAEA,wBAAA,CAEA,4BAAA,CACA,wBAAA,CACA,mCAAA,CACA,oCAAA,CACA,mCAAA,CAAA,CCrCR,MACI,iBAAA,CACA,aAAA,CAGJ,IACI,UAAA,CACA,WAAA,CACA,aAAA,CAGA,iBAAA,CACA,KAAA,CACA,mBAAA,CAEA,oBACI,iBAAA,CACA,qBAAA,CACA,SAAA,CAIJ,uBACI,iBAAA,CACA,qBAAA,CAKR,sBACI,cAAA,CACA,WAAA,CAGJ,uBACI,YAAA,CAGJ,eACI,SAAA,CAGJ,eACI,WAAA,CACA,eAAA\",\"sourcesContent\":[\"@use \\\"sass:color\\\";\\n\\n$primary : #00e676;\\n$focus : color.adjust($primary, $lightness: 50%);\\n\\n:root {\\n    --primary : #{$primary};\\n    --background: white;\\n    --text : black;\\n    --border : #e0e0e0;\\n    --hover : #f0f0f0;\\n    --focus: #{$focus};\\n    --text-disabled : #999999;\\n\\n    --timeline--time:#f0f0f0;\\n    --timeline--walking:#999999;\\n\\n    --button-background: #fff;\\n    --button-border: #999999;\\n    --button-background--hover: #f0f0f0;\\n    --button-background--active: #e0e0e0;\\n    --button-background--focus: #{$focus};    \\n}\\n\\n@media (prefers-color-scheme: dark) {\\n    :root {\\n        --background: #383838;\\n        --text:#eeeeee;\\n        --border : #999999;\\n        --hover : #666666;\\n        --focus: #667667;\\n        --text-disabled : #999999;\\n\\n        --timeline--time:#666666;\\n\\n        --button-background: #383838;\\n        --button-border: #999999;\\n        --button-background--hover: #666666;\\n        --button-background--active: #555555;\\n        --button-background--focus: #667667;    \\n    }\\n}\",\"@import \\\"../../theme.scss\\\";\\n\\n:host {\\n    position: relative;\\n    display: block;\\n}\\n\\nsvg {\\n    width: 100%;\\n    height: 100%;\\n    display: block;\\n\\n    // act as a background image\\n    position: absolute;\\n    top: 0;\\n    pointer-events: none;\\n\\n    path.connection {\\n        stroke-width: 0.1em;\\n        stroke: var(--primary);\\n        fill: none;\\n        // transition: 0.2s;\\n    }\\n\\n    path#timeline-path {\\n        stroke-width: 0.5em;\\n        stroke: var(--primary);\\n        // transition: 0.2s;\\n    }\\n}\\n\\n#timeline-placeholder {\\n    flex-basis: 0px;\\n    flex-grow: 1;\\n}\\n\\n#timeline-element-grid {\\n    display: flex;\\n}\\n\\n#timeline1-box {\\n    width: 3em;\\n}\\n\\n#timeline2-box {\\n    flex-grow: 9;\\n    margin-left: 2em;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___.toString();\n"],"names":["module","exports","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","id","_k","push","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","url","options","String","__esModule","default","hash","maybeNeedQuotes","test","___HTML_LOADER_IMPORT_0___","URL","timeFormat","Intl","DateTimeFormat","hour","minute","DepartureDisplay","HTMLElement","constructor","super","rendered","connectedCallback","abortController","AbortController","innerHTML","template","departureTime","querySelector","plannedTime","departureLine","departureStop","departureHeadsign","render","nextDeparture","renderedDeparture","plannedDeparture","delay","isRealtime","Date","getTime","depratureTimeFormatted","format","setAttribute","palannedDepatureFormatted","delayed","innerText","style","textDecoration","route","RouteAttribute","name","RouteColorAttribute","color","headsign","stop","stopId","stopName","update","disconnectedCallback","abort","customElements","define","TextAttribute","FlipDisplay","isFront","beforeValue","animating","connected","queuedValue","shadowRoot","attachShadow","mode","frontSpan","backSpan","boxInner","actualSpan","listener","animationEnded","addEventListener","updateAttributes","removeEventListener","attributeChangedCallback","observedAttributes","value","getAttribute","classList","remove","add","TimeAttribute","FlipTimeDisplay","digits","Array","from","querySelectorAll","time","parseInt","hours","getHours","minutes","getMinutes","templateNode","document","createElement","TimelineElementsController","svg","resizeObserver","controllerMap","Map","elementsBySlot","e","ctrl","TimelineElementController","observe","timlineElement","appendChild","connection","set","unobserve","get","removeChild","delete","elementsChange","newElements","keys","indexOf","slotList","slot","prev","previous","next","layoutSlot","timelineSlot","offsetTime","pixelPerMs","timelineElements","layout","allControllers","values","layoutTimeline","startCtrls","timelineHeight","offset","c","sort","a","b","boxOffset","boxStartPositionY","all","moveAll","endCtrls","boxEndPositionY","linePositionX","_boxStartPositionY","_boxEndPositionY","connectionHeight","_connectionPositionY","_timePositionY","_rendered","createElementNS","connectionOffset","clientHeight","timeOffset","moveTo","timeTargetPositionY","boxTargetStartPositionY","speedPxPerMs","overlap","moveBox","amount","moveTimeline","createArc","startpoint","endpoint","midx","x","y","cancelMoveAnimations","moveToBoxAnimation","cancel","moveToConnectionAnimation","currentYPos","getBoundingClientRect","top","parentElement","Math","abs","currentShortAnimation","targetY","animation","console","log","animate","transform","duration","startX","offsetLeft","clientWidth","DOMPoint","playMoveAnimation","finished","then","Timeline","onTimechange","triggerLayout","ResizeObserver","resizeCallback","layoutTriggered","styleElement","addStyleSheet","cssContent","cloneNode","timelinePath","timelineContent","timeline1Box","timelinePlaceholder","elementsCtrl","abortableEventListener","slotchangeCallback","signal","reason","requestAnimationFrame","getTimelineScale","height","elements","maxPixelPerMs","parseFloat","getComputedStyle","fontSize","timediff","size","max","times","t","overallSize","minHeight","window","innerHeight","maxHeight","min","MoveToAttribute","TimelineElement","_time","toISOString","_moveTo","newTime","newMoveToAttr","newMoveTo","isNaN","dispatchEvent","CustomEvent","bubbles","composed","WalkingLegDisplay","legs","fromText","toText","durationText","timestamp","last","first","arrivalStop","ceil","arrivalTime","TransitLegDisplay","leg","departureDisplay","tripId","TimelineGoalElement","flipTimeDisplay","goalLabel","setLeg","lastLeg","TimelineCurrentTimeElement","setTime","d","RefreshRouteDetails","type","FgInterval","callback","interval","immediateOnFocus","active","registeredIntervals","registerEvents","stopTimeout","filter","startTimeout","static","focus","blur","startTimeoutOnFocus","aborted","clearTimeout","timeout","setTimeout","RouteDetails","store","Store","timeline","subscribe","s","init","state","refreshRouteDetails","postAction","updateTimelineElementAndReturnNext","current","getNext","create","timelineElement","insertAdjacentElement","nextElementSibling","setRouteDetail","routeDetail","currentTime","walkingLegs","itinerary","currentChild","children","nextLeg","TransitDisplay","routeLabel","label","replace","toggle","backgroundColor","TransitDisplayTagName","___CSS_LOADER_EXPORT___"],"sourceRoot":""}