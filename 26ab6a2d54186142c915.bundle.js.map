{"version":3,"file":"26ab6a2d54186142c915.bundle.js","mappings":"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","sources":["webpack://pockmas/webpack/runtime/chunk loaded","webpack://pockmas/./node_modules/html-loader/dist/runtime/getUrl.js","webpack://pockmas/./src/utils/popup.ts","webpack://pockmas/./src/utils/abortableEventListener.ts","webpack://pockmas/./src/components/SearchResultCard/SearchResultCard.ts","webpack://pockmas/./src/components/SearchResultCard/SearchResultCard.html","webpack://pockmas/./src/components/StopSearch/StopSearch.ts","webpack://pockmas/./src/components/StopSearch/StopSearch.html","webpack://pockmas/./src/state/Store.ts","webpack://pockmas/./src/state/actions/InitializeStopSearch.ts","webpack://pockmas/./src/state/actions/DepartureStopTermChanged.ts","webpack://pockmas/./src/state/actions/ArrivalStopTermChanged.ts","webpack://pockmas/./src/state/actions/StopsSelected.ts","webpack://pockmas/./src/components/RouteSearch/RouteSearch.ts","webpack://pockmas/./src/components/RouteSearch/RouteSearch.html","webpack://pockmas/./src/utils/ArrayToElementRenderer.ts","webpack://pockmas/./src/components/TransitDisplay/TransitDisplay.ts","webpack://pockmas/./src/components/TransitDisplay/TransitDisplay.html","webpack://pockmas/./src/components/WalkingDisplay/WalkingDisplay.html","webpack://pockmas/./src/components/WalkingDisplay/WalkingDisplay.ts","webpack://pockmas/./src/components/RouteTimeline/RouteTimeline.ts","webpack://pockmas/./src/components/RouteTimeline/RouteTimeline.html","webpack://pockmas/./src/components/FlipDisplay/FlipDisplay.ts","webpack://pockmas/./src/components/FlipDisplay/FlipDisplay.html","webpack://pockmas/./src/components/FlipTimeDisplay/FlipTimeDisplay.ts","webpack://pockmas/./src/components/FlipTimeDisplay/FlipTimeDisplay.html","webpack://pockmas/./src/components/RouteSummary/RouteSummary.ts","webpack://pockmas/./src/components/RouteSummary/RouteSummary.html","webpack://pockmas/./src/components/RouteResults/RouteResults.ts","webpack://pockmas/./src/components/RouteResults/RouteResults.html","webpack://pockmas/./src/state/actions/SetDepartureTime.ts","webpack://pockmas/./src/index.ts","webpack://pockmas/./src/state/actions/InitializeRouting.ts","webpack://pockmas/./src/install-sw.ts","webpack://pockmas/./node_modules/core-js/internals/object-get-own-property-names.js","webpack://pockmas/webpack/bootstrap","webpack://pockmas/webpack/runtime/compat get default export","webpack://pockmas/webpack/runtime/define property getters","webpack://pockmas/webpack/runtime/get javascript chunk filename","webpack://pockmas/webpack/runtime/global","webpack://pockmas/webpack/runtime/hasOwnProperty shorthand","webpack://pockmas/webpack/runtime/publicPath","webpack://pockmas/webpack/runtime/jsonp chunk loading","webpack://pockmas/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  }\n\n  if (!url) {\n    return url;\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = String(url.__esModule ? url.default : url);\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  }\n\n  if (options.maybeNeedQuotes && /[\\t\\n\\f\\r \"'=<>`]/.test(url)) {\n    return \"\\\"\".concat(url, \"\\\"\");\n  }\n\n  return url;\n};","export class Popup extends HTMLElement {\n    private popupShown: boolean = false;\n    private source: HTMLElement = this;\n    constructor() {\n        super();\n        this.keyListener = this.keyListener.bind(this);\n        this.clickListener = this.clickListener.bind(this);\n    }\n\n    connectedCallback() {\n        this.updateStyles();\n    }\n\n    private keyListener(ev: KeyboardEvent) {\n        if (ev.key == \"Escape\") {\n            this.hide();\n        }\n    }\n\n    setSource(e: HTMLElement) {\n        this.source = e;\n    }\n\n    private clickListener(ev: MouseEvent | TouchEvent) {\n        if (!this.source.contains(<Element>(ev.target))) {\n            this.hide();\n        }\n    }\n\n    public hide() {\n        if (this.popupShown) {\n            document.removeEventListener(\"keydown\", this.keyListener);\n            document.removeEventListener(\"click\", this.clickListener);\n            this.popupShown = false;\n            this.updateStyles();\n        }\n    }\n\n    public show() {\n        if (!this.popupShown) {\n            document.addEventListener(\"keydown\", this.keyListener);\n            document.addEventListener(\"click\", this.clickListener);\n            this.popupShown = true;\n            this.updateStyles();\n        }\n    }\n\n    private updateStyles() {\n        this.style.display = this.popupShown ? \"\" : \"none\";\n    }\n\n    public toggle() {\n        if (!this.popupShown) {\n            this.show();\n        }\n        else {\n            this.hide();\n\n        }\n    }\n\n    disconnectedCallback() {\n        this.hide();\n    }\n}\ncustomElements.define(\"app-popup\", Popup);","export function abortableEventListener<TCallbackFnResult,\n    TEvent,\n    TCallbackFn extends (this: THTMLElement, event: TEvent extends keyof HTMLElementEventMap ? HTMLElementEventMap[TEvent] : any) => TCallbackFnResult,\n    TAddEventListener extends (eventName: TEvent, listener: TCallbackFn) => void,\n    THTMLElement extends { addEventListener: TAddEventListener, removeEventListener: TAddEventListener }>(element: THTMLElement, event: TEvent, listenerFn: TCallbackFn, signal: AbortSignal): void {\n    element.addEventListener(event, listenerFn);\n    signal.addEventListener(\"abort\", () => {\n        element.removeEventListener(event, listenerFn);\n    });\n}","import template from \"./SearchResultCard.html\";\nimport \"./SearchResultCard.scss\";\n\nconst LabelAttribute = \"label\";\n\nexport class SearchResultCard extends HTMLElement {\n    private rendered: boolean;\n    private text: HTMLSpanElement;\n\n    constructor() {\n        super();\n    }\n\n    connectedCallback() {\n        if (!this.rendered) {\n            this.innerHTML = template;\n            this.rendered = true;\n            this.text = this.querySelector(\".search-result-card__text\");\n        }\n        this.updateAttributes();\n    }\n    \n    attributeChangedCallback() {\n        this.updateAttributes();\n    }\n\n    private updateAttributes() {\n        if (!this.rendered) {\n            return;\n        }\n        let label = this.getAttribute(LabelAttribute);\n        this.text.innerText = label;\n    }\n\n    static get observedAttributes() {\n        return [LabelAttribute];\n    }\n\n    disconnectedCallback() {\n\n    }\n}\n\ncustomElements.define(\"search-result-card\", SearchResultCard);\n","// Module\nvar code = \"<button class=\\\"search-result-card__button\\\"> <span class=\\\"search-result-card__text\\\"></span> </button>\";\n// Exports\nexport default code;","import template from \"./StopSearch.html\";\nimport \"./StopSearch.scss\";\nimport \"../../utils/popup\";\nimport { Popup } from \"../../utils/popup\";\nimport { abortableEventListener } from \"../../utils/abortableEventListener\";\nimport \"../SearchResultCard/SearchResultCard\";\nimport { SearchResultCard } from \"../SearchResultCard/SearchResultCard\";\n\nconst LabelAttribute = \"label\";\n\nexport class StopSearch extends HTMLElement {\n    private rendered = false;\n    private labels: HTMLLabelElement[];\n    private button: HTMLButtonElement;\n    private popup: Popup;\n    private abortController: AbortController;\n    private input: HTMLInputElement;\n    private searchResults: SearchResultCard[];\n    private selectedResultLabel: HTMLSpanElement;\n\n    constructor() {\n        super();\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        if (!this.rendered) {\n            this.innerHTML = template;\n            this.rendered = true;\n            this.labels = Array.from(this.querySelectorAll(\".stop-search__label\"));\n            this.button = this.querySelector(\"button\");\n            this.popup = this.querySelector(\"app-popup\");\n            this.popup.setSource(this);\n            this.input = this.querySelector(\".stop-search__search-input\");\n            this.searchResults = Array.from(this.querySelectorAll(\".stop-search__search-result\"));\n            this.selectedResultLabel = this.querySelector(\".stop-search__selected-result-label\");\n        }\n        this.updateAttributes();\n        abortableEventListener(this.button, \"click\", evt => this.onClick(evt), this.abortController.signal);\n        for (let i = 0; i < this.searchResults.length; i++) {\n            abortableEventListener(this.searchResults[i], \"click\", evt => this.onSearchResultClick(i), this.abortController.signal);\n        }\n    }\n\n    private onClick(evt: MouseEvent) {\n        this.popup.show();\n        this.input.focus();\n    }\n\n    private onSearchResultClick(i: number) {\n        this.selectedResultLabel.innerText = this.searchResults[i].getAttribute(\"label\");\n        this.dispatchEvent(new CustomEvent(\"stop-selected\", { detail: i }));\n        this.popup.hide();\n    }\n\n    attributeChangedCallback() {\n        this.updateAttributes();\n    }\n\n    static get observedAttributes() {\n        return [LabelAttribute];\n    }\n\n    private updateAttributes() {\n        if (!this.rendered) {\n            return;\n        }\n        let label = this.getAttribute(LabelAttribute);\n        for (let l of this.labels) {\n            l.innerText = label;\n        }\n        this.button.setAttribute(\"title\", `${label} auswählen`);\n        this.labels[1].setAttribute(\"for\", `${label}-search-input`);\n        this.input.setAttribute(\"id\", `${label}-search-input`);\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n\n    get searchTerm() {\n        return this.input.value;\n    }\n\n    setResults(results: { name: string, id: number }[]) {\n        if (!this.rendered) {\n            return;\n        }\n        for (let i = 0; i < this.searchResults.length; i++) {\n            if (i < results.length) {\n                this.searchResults[i].setAttribute(\"label\", results[i].name);\n                this.searchResults[i].style.display = \"\";\n            } else {\n                this.searchResults[i].style.display = \"none\";\n            }\n        }\n    }\n}\n\ncustomElements.define(\"stop-search\", StopSearch);\n","// Module\nvar code = \"<button class=\\\"stop-search\\\"> <label class=\\\"stop-search__label\\\"></label> <div> <span class=\\\"stop-search__selected-result-label\\\">auswählen</span> </div> </button> <app-popup> <div class=\\\"stop-search__search\\\"> <div class=\\\"stop-search__search-input-container\\\"> <label class=\\\"stop-search__label\\\"></label> <input placeholder=\\\"Suche eine Station\\\" class=\\\"stop-search__search-input\\\" type=\\\"search\\\" autocomplete=\\\"off\\\" autocapitalize=\\\"off\\\"> </div> <div class=\\\"stop-search__results\\\"> <search-result-card style=\\\"display:none\\\" class=\\\"stop-search__search-result\\\"></search-result-card> <search-result-card style=\\\"display:none\\\" class=\\\"stop-search__search-result\\\"></search-result-card> <search-result-card style=\\\"display:none\\\" class=\\\"stop-search__search-result\\\"></search-result-card> <search-result-card style=\\\"display:none\\\" class=\\\"stop-search__search-result\\\"></search-result-card> <search-result-card style=\\\"display:none\\\" class=\\\"stop-search__search-result\\\"></search-result-card> <search-result-card style=\\\"display:none\\\" class=\\\"stop-search__search-result\\\"></search-result-card> <search-result-card style=\\\"display:none\\\" class=\\\"stop-search__search-result\\\"></search-result-card> <search-result-card style=\\\"display:none\\\" class=\\\"stop-search__search-result\\\"></search-result-card> <search-result-card style=\\\"display:none\\\" class=\\\"stop-search__search-result\\\"></search-result-card> <search-result-card style=\\\"display:none\\\" class=\\\"stop-search__search-result\\\"></search-result-card> </div> </div> </app-popup>\";\n// Exports\nexport default code;","import { Action } from \"./actions/Action\";\nimport { State } from \"./State\";\n\ninterface Subscription<State> {\n    call(a: State, changes: (keyof State)[]): void;\n}\n\nexport class Store {\n    private static instance: Store = null;\n    private worker: Worker;\n    private subscriptions: Subscription<State>[];\n    private _state: State = null;\n\n    get state() {\n        return this._state;\n    }\n\n    static getInstance() {\n        if (null == this.instance) {\n            this.instance = new Store();\n        }\n        return this.instance;\n    }\n\n    constructor() {\n        this.subscriptions = [];\n        this.worker = new Worker(new URL(\"./worker\", import.meta.url));\n        this.worker.addEventListener(\"message\", ev => {\n            let [update, changes] = ev.data;\n            this._state = { ...this._state, ...update };\n            for (let s of this.subscriptions) {\n                try {\n                    s.call(this._state, changes);\n                }\n                catch (err) {\n                    console.error(`Error while updating`, err);\n                }\n\n            }\n        });\n    }\n\n    subscribe(call: (a: State, changed: (keyof State)[]) => void, signal?: AbortSignal) {\n        let sub: Subscription<State> = { call };\n        this.subscriptions.push(sub);\n        if (signal) {\n            signal.addEventListener(\"abort\", () => {\n                this.subscriptions.splice(this.subscriptions.indexOf(sub), 1);\n            });\n        }\n    }\n\n    postAction(action: Action) {\n        this.worker.postMessage(action);\n    }\n}","import { Action } from \"./Action\";\nimport { ActionType } from \"./ActionType\";\n\nexport class InitializeStopSearch implements Action {\n    constructor() { }\n    readonly type = ActionType.InitializeStopSearch;\n}\n","import { Action } from \"./Action\";\nimport { ActionType } from \"./ActionType\";\n\n\nexport class DepartureStopTermChanged implements Action {\n    constructor(public term: string) { }\n    readonly type = ActionType.DepartureStopTermChanged;\n}\n\n","import { Action } from \"./Action\";\nimport { ActionType } from \"./ActionType\";\n\nexport class ArrivalStopTermChanged implements Action {\n    constructor(public term: string) { }\n    readonly type = ActionType.ArrivalStopTermChanged;\n}\n\n","import { Action } from \"./Action\";\nimport { ActionType } from \"./ActionType\";\n\n\nexport class StopsSelected implements Action {\n    constructor(public departure: number, public arrival: number) { }\n    readonly type = ActionType.StopsSelected;\n}\n","import template from \"./RouteSearch.html\";\nimport \"./RouteSearch.scss\";\nimport \"../StopSearch/StopSearch\";\nimport { Store } from \"../../state/Store\";\nimport { InitializeStopSearch } from \"../../state/actions/InitializeStopSearch\";\nimport { State } from \"../../state/State\";\nimport { StopSearch } from \"../StopSearch/StopSearch\";\nimport { abortableEventListener } from \"../../utils/abortableEventListener\";\nimport { DepartureStopTermChanged } from \"../../state/actions/DepartureStopTermChanged\";\nimport { ArrivalStopTermChanged } from \"../../state/actions/ArrivalStopTermChanged\";\nimport { StopsSelected } from \"../../state/actions/StopsSelected\";\n\nexport class RouteSearch extends HTMLElement {\n    private rendered: boolean;\n    private store: Store;\n    private abortController: AbortController;\n    private departureStopSearch: StopSearch;\n    private arrivalStopSearch: StopSearch;\n    private selectedDepartureStop: number;\n    private selectedArrivalStop: number;\n\n    constructor() {\n        super();\n        this.store = Store.getInstance();\n        this.store.postAction(new InitializeStopSearch());\n\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        if (!this.rendered) {\n            this.innerHTML = template;\n            this.departureStopSearch = this.querySelector(\"#departure-stop-search\");\n            this.arrivalStopSearch = this.querySelector(\"#arrival-stop-search\");\n            this.rendered = true;\n        }\n        this.store.subscribe((s, c) => this.update(s, c), this.abortController.signal);\n        abortableEventListener(this.departureStopSearch, \"input\", () => this.store.postAction(new DepartureStopTermChanged(this.departureStopSearch.searchTerm)), this.abortController.signal);\n        abortableEventListener(this.arrivalStopSearch, \"input\", () => this.store.postAction(new ArrivalStopTermChanged(this.arrivalStopSearch.searchTerm)), this.abortController.signal);\n        abortableEventListener(this.departureStopSearch, \"stop-selected\", (e: CustomEvent) => {\n            this.selectedDepartureStop = e.detail;\n            this.onStopsSelected();\n        }, this.abortController.signal);\n        abortableEventListener(this.arrivalStopSearch, \"stop-selected\", (e: CustomEvent) => {\n            this.selectedArrivalStop = e.detail;\n            this.onStopsSelected();\n        }, this.abortController.signal);\n    }\n\n    private update(s: State, changes: (keyof State)[]) {\n        if (changes.includes(\"departureStopResults\")) {\n            this.departureStopSearch.setResults(s.departureStopResults);\n        }\n        if (changes.includes(\"arrivalStopResults\")) {\n            this.arrivalStopSearch.setResults(s.arrivalStopResults);\n        }\n    }\n\n    onStopsSelected() {\n        if (null != this.selectedDepartureStop && null != this.selectedArrivalStop) {\n            this.store.postAction(new StopsSelected(this.selectedDepartureStop, this.selectedArrivalStop));\n        }\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n}\n\ncustomElements.define(\"route-search\", RouteSearch);\n","// Module\nvar code = \"<div> <stop-search label=\\\"Abfahrt\\\" class=\\\"route-search__abfahrt\\\" id=\\\"departure-stop-search\\\"></stop-search> <stop-search label=\\\"Ziel\\\" id=\\\"arrival-stop-search\\\"></stop-search> </div>\";\n// Exports\nexport default code;","export class ArrayToElementRenderer<T, E extends Element, K>{\n    private keyToElement: Map<K, E>;\n    private elementToKey: WeakMap<E, K>;\n    \n    constructor(private listElement: HTMLElement,\n        private keySelector: (x: T) => K,\n        private createElement: (x: T) => E) {\n        this.keyToElement = new Map<K, E>();\n        this.elementToKey = new WeakMap<E, K>();\n    }\n\n    update(list: T[], updateElement: (x: E, data: T) => void) {\n        let keyCache = new Map<T, K>();\n        let getKey = (d: T) => keyCache.get(d) || (() => {\n            let key = this.keySelector(d);\n            keyCache.set(d, key);\n            return key;\n        })();\n        for (let x of Array.from(this.listElement.children)) {\n            let el: E = <E>x;\n            let data = list.find(i => this.elementToKey.get(el) == getKey(i));\n            if (data) {\n                updateElement(<E>el, data);\n            }\n            else {\n                this.listElement.removeChild(el);\n            }\n        }\n        let before: Element = null;\n        let nextKeyToElement = new Map<K, E>();\n        for (let t of list) {\n            let key = getKey(t);\n            let childElement: E = this.keyToElement.get(key);\n            if (!childElement) {\n                childElement = this.createElement(t);\n                updateElement(childElement, t);\n                this.elementToKey.set(childElement, key);\n            }\n            nextKeyToElement.set(key, childElement);\n            if (null == before && childElement != this.listElement.firstElementChild) {\n                this.listElement.prepend(childElement);\n            }\n            else if (null != before && before.nextElementSibling != childElement) {\n                before.insertAdjacentElement(\"afterend\", childElement);\n            }\n            before = childElement;\n        }\n        this.keyToElement = nextKeyToElement;\n    }\n\n}","import template from \"./TransitDisplay.html\";\nimport \"./TransitDisplay.scss\";\n\nexport const RouteAttribute = \"route\";\nexport const RouteColorAttribute = \"route-color\";\n\nexport class TransitDisplay extends HTMLElement {\n    private rendered = false;\n    private routeLabel : HTMLSpanElement;\n    constructor() {\n        super();\n    }\n\n    connectedCallback() {\n        if (!this.rendered) {\n            this.innerHTML = template;\n            this.rendered = true;\n            this.routeLabel = this.querySelector(\".transit-display__route\");\n            this.updateAttributes();\n        }\n    }\n\n    attributeChangedCallback() {\n        this.updateAttributes();\n    }\n\n    static get observedAttributes() {\n        return [RouteAttribute, RouteColorAttribute];\n    }\n\n    private updateAttributes() {\n        if (!this.rendered) {\n            return;\n        }\n        let label = this.getAttribute(RouteAttribute);\n        this.routeLabel.innerText = label;\n        let color = this.getAttribute(RouteColorAttribute);\n        this.style.backgroundColor = color ?`#${color}` : \"\";\n    }\n\n    disconnectedCallback() {\n\n    }\n}\nexport const TransitDisplayTagName = \"transit-display\";\ncustomElements.define(TransitDisplayTagName, TransitDisplay);\n","// Module\nvar code = \"<span class=\\\"transit-display__route\\\"></span>\";\n// Exports\nexport default code;","// Imports\nimport ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___ from \"../../../node_modules/html-loader/dist/runtime/getUrl.js\";\nvar ___HTML_LOADER_IMPORT_0___ = new URL(\"../../icons/walking.svg\", import.meta.url);\n// Module\nvar ___HTML_LOADER_REPLACEMENT_0___ = ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___(___HTML_LOADER_IMPORT_0___);\nvar code = \"<img class=\\\"walking-display__img\\\" src=\\\"\" + ___HTML_LOADER_REPLACEMENT_0___ + \"\\\" alt=\\\"gehende Person\\\"> <span class=\\\"walking-display__minutes\\\"></span>\";\n// Exports\nexport default code;","import template from \"./WalkingDisplay.html\";\nimport \"./WalkingDisplay.scss\";\n\nexport const MinutesAttribute = \"minutes\";\n\nexport class WalkingDisplay extends HTMLElement {\n\n    private rendered = false;\n    private minutesLabel: HTMLSpanElement;\n    constructor() {\n        super();\n    }\n\n    connectedCallback() {\n        if (!this.rendered) {\n            this.innerHTML = template;\n            this.rendered = true;\n            this.minutesLabel = this.querySelector(\".walking-display__minutes\");\n            this.updateAttributes();\n        }\n    }\n\n    attributeChangedCallback() {\n        this.updateAttributes();\n    }\n\n    static get observedAttributes() {\n        return [MinutesAttribute];\n    }\n\n    private updateAttributes() {\n        if (!this.rendered) {\n            return;\n        }\n        let label = this.getAttribute(MinutesAttribute);\n        this.minutesLabel.innerText = `${label}'`;\n    }\n\n    disconnectedCallback() {\n\n    }\n}\nexport const WalkingDisplayTagName = \"walking-display\";\ncustomElements.define(WalkingDisplayTagName, WalkingDisplay);\n","import { Itinerary } from \"../../lib/Itinerary\";\nimport { RouteAttribute, RouteColorAttribute, TransitDisplay, TransitDisplayTagName } from \"../TransitDisplay/TransitDisplay\";\nimport { MinutesAttribute, WalkingDisplay, WalkingDisplayTagName } from \"../WalkingDisplay/WalkingDisplay\";\nimport template from \"./RouteTimeline.html\";\nimport \"./RouteTimeline.scss\";\nimport \"../TransitDisplay/TransitDisplay\";\nimport \"../WalkingDisplay/WalkingDisplay\";\nimport { Leg } from \"../../lib/Leg\";\nimport { LegType } from \"../../lib/LegType\";\n\nconst timeFormat = Intl.DateTimeFormat([], { hour: \"2-digit\", minute: \"2-digit\" });\n\nexport class RouteTimeline extends HTMLElement {\n    private rendered = false;\n    private departureTimeLabel: HTMLLIElement;\n    private arrivalTimeLabel: HTMLLIElement;\n    private timelineElements: HTMLLIElement[] = [];\n    itinerary: Itinerary;\n    constructor() {\n        super();\n\n    }\n\n    connectedCallback() {\n        if (!this.rendered) {\n            this.rendered = true;\n            this.innerHTML = template;\n            this.departureTimeLabel = this.querySelector(\".route-timeline__departure-time\");\n            this.arrivalTimeLabel = this.querySelector(\".route-timeline__arrival-time\");\n        }\n        this.render();\n    }\n\n    disconnectedCallback() {\n\n    }\n\n    private reuseOrCreateElement<T extends HTMLElement>(recycleBin: HTMLLIElement[], tagName: string): T {\n        let element = recycleBin.find(e => e.children[0].tagName.localeCompare(tagName, undefined, { sensitivity: \"accent\" }) === 0);\n        let child: T;\n        if (element) {\n            recycleBin.splice(recycleBin.indexOf(element), 1);\n            child = element.children[0] as T;\n        }\n        else {\n            element = document.createElement(\"li\");\n            child = document.createElement(tagName) as T;\n            element.appendChild(child);\n        }\n        if (this.timelineElements.length == 0) {\n            this.departureTimeLabel.insertAdjacentElement(\"afterend\", element);\n        }\n        else {\n            this.timelineElements[this.timelineElements.length - 1].insertAdjacentElement(\"afterend\", element);\n        }\n        this.timelineElements.push(element);\n        return child;\n    }\n\n    private addWalkingLeg(duration: number, recycleBin: HTMLLIElement[]) {\n        let walkingDisplay = this.reuseOrCreateElement<WalkingDisplay>(recycleBin, WalkingDisplayTagName);\n        walkingDisplay.setAttribute(MinutesAttribute, `${Math.ceil(duration / 60000)}`);\n    }\n\n    addTransportLeg(leg: Leg, recycleBin: HTMLLIElement[]) {\n        let transitDisplay = this.reuseOrCreateElement<TransitDisplay>(recycleBin, TransitDisplayTagName);\n        transitDisplay.setAttribute(RouteAttribute, leg.route.name);\n        transitDisplay.setAttribute(RouteColorAttribute, leg.route.color);\n    }\n\n    update(itinerary: Itinerary) {\n        this.itinerary = itinerary;\n        this.render();\n    }\n\n    private render() {\n        if (!this.rendered || !this.itinerary || this.itinerary.legs.length === 0) {\n            return;\n        }\n        let departureTime = timeFormat.format(new Date(this.itinerary.legs[0].plannedDeparture.getTime() + this.itinerary.legs[0].delay * 1000));\n        this.departureTimeLabel.title = `Losgehen um ${departureTime}`;\n        this.departureTimeLabel.innerText = departureTime;\n        let arrivalTime = timeFormat.format(this.itinerary.legs[this.itinerary.legs.length - 1].arrivalTime);\n        this.arrivalTimeLabel.title = `Ankunft um ${arrivalTime}`;\n        this.arrivalTimeLabel.innerText = arrivalTime;\n        let recycleBin = this.timelineElements;\n        this.timelineElements = [];\n        let walkingDuration = 0;\n        for (let i = 0; i < this.itinerary.legs.length; i++) {\n            let leg = this.itinerary.legs[i];\n            switch (leg.type) {\n                case LegType.Walking:\n                    walkingDuration += leg.duration;\n                    let nextLeg = i < this.itinerary.legs.length - 1 ? this.itinerary.legs[i + 1] : null;\n                    if (!nextLeg || nextLeg.type != LegType.Walking) {\n                        if (i == 0 || i == this.itinerary.legs.length - 1 || walkingDuration > 2 * 60000) {\n                            this.addWalkingLeg(walkingDuration, recycleBin);\n                        }\n                        walkingDuration = 0;\n                    }\n                    break;\n                case LegType.Transit:\n                    this.addTransportLeg(leg, recycleBin);\n                    break;\n            }\n        }\n        for (let leg of this.itinerary.legs) {\n\n        }\n        for (let element of recycleBin) {\n            element.remove();\n        }\n    }\n}\n\n\ncustomElements.define(\"route-timeline\", RouteTimeline);\n","// Module\nvar code = \"<ol class=\\\"route-timeline\\\"> <li class=\\\"route-timeline__time route-timeline__departure-time\\\"></li> <li class=\\\"route-timeline__time route-timeline__arrival-time\\\"></li> </ol>\";\n// Exports\nexport default code;","import template from \"./FlipDisplay.html\";\n\nexport const TextAttribute = \"text\";\n\nexport class FlipDisplay extends HTMLElement {\n\n    private isFront = true;\n    private beforeValue: string = null;\n    private frontSpan: HTMLSpanElement;\n    private backSpan: HTMLSpanElement;\n    private boxInner: HTMLSpanElement;\n    private actualSpan: HTMLSpanElement;\n    private animating = false;\n    private connected = false;\n    private queuedValue: string = null;\n    private listener: () => void;\n\n    constructor() {\n        super();\n        let shadowRoot = this.attachShadow({ mode: \"open\" });\n        shadowRoot.innerHTML = template;\n        this.frontSpan = shadowRoot.querySelector(\".front\");\n        this.backSpan = shadowRoot.querySelector(\".back\");\n        this.boxInner = shadowRoot.querySelector(\".box-inner\");\n        this.actualSpan = shadowRoot.querySelector(\".actual\");\n        this.listener = () => this.animationEnded();\n    }\n\n    connectedCallback() {\n        this.connected = true;\n        this.boxInner.addEventListener(\"animationend\", this.listener);\n    }\n\n    private animationEnded() {\n        this.animating = false;\n        if (this.queuedValue) {\n            this.updateAttributes();\n            this.queuedValue = null;\n        }\n    }\n\n    disconnectedCallback() {\n        this.connected = false;\n        this.boxInner.removeEventListener(\"animationend\", this.listener);\n    }\n\n    attributeChangedCallback() {\n        this.updateAttributes();\n    }\n\n    static get observedAttributes() {\n        return [TextAttribute];\n    }\n\n    private updateAttributes() {\n        let value = this.getAttribute(TextAttribute);\n        if (!this.beforeValue) {\n            this.isFront = true;\n            this.frontSpan.innerText = value;\n            this.backSpan.innerText = \"\";\n            this.boxInner.classList.remove(\"show-back\");\n            this.boxInner.classList.remove(\"show-front\");\n            this.beforeValue = value;\n            this.actualSpan.innerText = value;\n        } else if (value !== this.beforeValue) {\n            if (this.animating) {\n                this.queuedValue = value;\n            } else {\n                this.isFront = !this.isFront;\n                if (this.isFront) {\n                    this.frontSpan.innerText = value;\n                    this.boxInner.classList.remove(\"show-back\");\n                    this.boxInner.classList.add(\"show-front\");\n                } else {\n                    this.backSpan.innerText = value;\n                    this.boxInner.classList.remove(\"show-front\");\n                    this.boxInner.classList.add(\"show-back\");\n                }\n                if (this.connected) {\n                    this.animating = true;\n                }\n                this.actualSpan.innerText = value;\n                this.beforeValue = value;\n            }\n        }\n    }\n}\n\ncustomElements.define(\"flip-display\", FlipDisplay);","// Module\nvar code = \"<style>.box{perspective:5em;display:inline-block}.box-inner{transform-style:preserve-3d;display:inline-block;position:relative;border-radius:2px;transition:transform,box-shadow;animation-timing-function:ease-in-out}.back,.front{backface-visibility:hidden;display:inline-block;position:absolute;left:0}.front{transform:rotateX(0)}.back{transform:rotateX(180deg)}.actual{visibility:hidden}.show-back{animation:flip-front-to-back .8s;transform:rotateX(180deg)}.show-front{animation:flip-back-to-front .8s;transform:rotateX(0)}@keyframes flip-back-to-front{0%{transform:rotateX(180deg);box-shadow:none}10%{transform:rotateX(180deg)}50%{box-shadow:0 0 0 -1px rgb(0 0 0 / 20%),0 0 5px 0 rgb(0 0 0 / 14%),0 0 10px 0 rgb(0 0 0 / 12%)}90%{transform:rotateX(360deg)}100%{transform:rotateX(360deg);box-shadow:none}}@keyframes flip-front-to-back{0%{transform:rotateX(0);box-shadow:none}10%{transform:rotateX(0)}50%{box-shadow:0 0 0 -1px rgb(0 0 0 / 20%),0 0 5px 0 rgb(0 0 0 / 14%),0 0 10px 0 rgb(0 0 0 / 12%)}90%{transform:rotateX(180deg)}100%{transform:rotateX(180deg);box-shadow:none}}</style><span class=\\\"box\\\"><span class=\\\"box-inner\\\"><span class=\\\"front\\\" aria-hidden=\\\"true\\\"></span><span class=\\\"back\\\" aria-hidden=\\\"true\\\"></span><span class=\\\"actual\\\"></span></span></span>\";\n// Exports\nexport default code;","import \"../FlipDisplay/FlipDisplay\";\nimport { FlipDisplay, TextAttribute } from \"../FlipDisplay/FlipDisplay\";\nimport template from \"./FlipTimeDisplay.html\";\n\nexport const TimeAttribute = \"time\";\n\nexport class FlipTimeDisplay extends HTMLElement {\n    private digits: FlipDisplay[];\n\n    constructor() {\n        super();\n        let shadowRoot = this.attachShadow({ mode: \"open\" });\n        shadowRoot.innerHTML = template;\n        this.digits = Array.from(shadowRoot.querySelectorAll(\"flip-display\"));\n    }\n\n    connectedCallback() {\n    }\n\n    disconnectedCallback() {\n\n    }\n\n    attributeChangedCallback() {\n        this.updateAttributes();\n    }\n\n    static get observedAttributes() {\n        return [TimeAttribute];\n    }\n\n    private updateAttributes() {\n        let value = this.getAttribute(TimeAttribute);\n        let time = new Date(parseInt(value));\n        let hours = time.getHours();\n        let minutes = time.getMinutes();\n        this.digits[0].setAttribute(TextAttribute, ((hours / 10) >> 0).toString());\n        this.digits[1].setAttribute(TextAttribute, (hours % 10).toString());\n        this.digits[2].setAttribute(TextAttribute, ((minutes / 10) >> 0).toString());\n        this.digits[3].setAttribute(TextAttribute, (minutes % 10).toString());\n    }\n}\n\ncustomElements.define(\"flip-time-display\", FlipTimeDisplay);","// Module\nvar code = \"<flip-display></flip-display><flip-display></flip-display>:<flip-display></flip-display><flip-display></flip-display>\";\n// Exports\nexport default code;","import { Itinerary } from \"../../lib/Itinerary\";\nimport template from \"./RouteSummary.html\";\nimport \"./RouteSummary.scss\";\nimport \"../RouteTimeline/RouteTimeline\";\nimport \"../FlipTimeDisplay/FlipTimeDisplay\";\nimport { RouteAttribute, RouteColorAttribute, TransitDisplay } from \"../TransitDisplay/TransitDisplay\";\nimport { RouteTimeline } from \"../RouteTimeline/RouteTimeline\";\nimport { LegType } from \"../../lib/LegType\";\nimport { FlipTimeDisplay } from \"../FlipTimeDisplay/FlipTimeDisplay\";\n\nconst timeFormat = Intl.DateTimeFormat([], { hour: \"2-digit\", minute: \"2-digit\" });\n\nexport class RouteSummary extends HTMLElement {\n    private rendered = false;\n    private departureTime: FlipTimeDisplay;\n    private departureLine: TransitDisplay;\n    private itinerary: Itinerary;\n    private departureStop: HTMLSpanElement;\n    private departureHeadsign: HTMLSpanElement;\n    private timeLine: RouteTimeline;\n    private plannedTime: HTMLSpanElement;\n    constructor() {\n        super();\n\n    }\n\n    connectedCallback() {\n        if (!this.rendered) {\n            this.innerHTML = template;\n            this.rendered = true;\n            this.departureTime = this.querySelector(\".route-summary__departure-time\");\n            this.plannedTime = this.querySelector(\".route-summary__planned-time\");\n            this.departureLine = this.querySelector(\".route-summary__departure-line\");\n            this.departureStop = this.querySelector(\".route-summary__departure-stop\");\n            this.departureHeadsign = this.querySelector(\".route-summary__departure-headsign\");\n            this.timeLine = this.querySelector(\".route-summary__timeline\");\n        }\n        this.render();\n    }\n\n    private render() {\n        if (this.rendered && this.itinerary.legs.length > 0) {\n            let firstTransitLeg = this.itinerary.legs.find(l => l.type == LegType.Transit);\n            if (firstTransitLeg) {\n                let departureTime = new Date(firstTransitLeg.plannedDeparture.getTime() + firstTransitLeg.delay * 1000);\n                let depratureTimeFormatted = timeFormat.format(departureTime);\n                this.departureTime.setAttribute(\"time\", \"\" + (departureTime.getTime()));\n                this.departureTime.setAttribute(\"title\", `Abfahrt um ${depratureTimeFormatted}`);\n                let palannedDepatureFormatted = timeFormat.format(firstTransitLeg.plannedDeparture);\n                let delayed = palannedDepatureFormatted != depratureTimeFormatted;\n                this.plannedTime.innerText = `${firstTransitLeg.isRealtime ? delayed ? palannedDepatureFormatted : \"pünktlich\" : \"\"}`;\n                this.plannedTime.style.textDecoration = delayed ? \"line-through\" : \"none\";\n                this.departureLine.setAttribute(RouteAttribute, firstTransitLeg.route.name);\n                this.departureLine.setAttribute(RouteColorAttribute, firstTransitLeg.route.color);\n                this.departureStop.innerText = firstTransitLeg.departureStop.stopName;\n                this.departureHeadsign.innerText = firstTransitLeg.route.headsign;\n                this.timeLine.update(this.itinerary);\n            }\n            else {\n                // TODO\n            }\n        }\n    }\n\n    update(data: Itinerary) {\n        this.itinerary = data;\n        this.render();\n    }\n\n    disconnectedCallback() {\n\n    }\n}\n\ncustomElements.define(\"route-summary\", RouteSummary);\n","// Module\nvar code = \"<div class=\\\"route-summary__departure\\\"> <flip-time-display class=\\\"route-summary__departure-time\\\"></flip-time-display> <div> <transit-display class=\\\"route-summary__departure-line\\\"></transit-display> </div> <span class=\\\"route-summary__departure-stop\\\"></span> <span class=\\\"route-summary__planned-time\\\"></span> <span class=\\\"route-summary__departure-direction\\\">Richtung <span class=\\\"route-summary__departure-headsign\\\"></span> </span> </div> <route-timeline class=\\\"route-summary__timeline\\\"></route-timeline>\";\n// Exports\nexport default code;","import { Itinerary } from \"../../lib/Itinerary\";\nimport { State, StateChanges } from \"../../state/State\";\nimport { Store } from \"../../state/Store\";\nimport { ArrayToElementRenderer } from \"../../utils/ArrayToElementRenderer\";\nimport { RouteSummary } from \"../RouteSummary/RouteSummary\";\nimport template from \"./RouteResults.html\";\nimport \"./RouteResults.scss\";\n\nexport class RouteResults extends HTMLElement {\n    private rendered = false;\n    private store: Store;\n    private abortController: AbortController;\n    private itineraries: Itinerary[] = [];\n    private renderer: ArrayToElementRenderer<Itinerary, RouteSummary, number>;\n\n    constructor() {\n        super();\n        this.store = Store.getInstance();\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        if (!this.rendered) {\n            this.innerHTML = template;\n            this.rendered = true;\n            this.renderer = new ArrayToElementRenderer<Itinerary, RouteSummary, number>(this, e => this.itineraries.indexOf(e), e => new RouteSummary());\n        }\n        this.store.subscribe((s, c) => this.update(s, c), this.abortController.signal);\n    }\n\n    private update(s: State, c: StateChanges) {\n        if (c.includes(\"results\")) {\n            this.itineraries = s.results;\n            this.renderer.update(this.itineraries, (c, i) => {\n                c.update(i)\n            });\n        }\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n}\n\ncustomElements.define(\"route-results\", RouteResults);\n","// Module\nvar code = \"\";\n// Exports\nexport default code;","import { Action } from \"./Action\";\nimport { ActionType } from \"./ActionType\";\n\n\n\nexport class SetDepartureTime implements Action {\n    constructor(public increment: number) { }\n    readonly type = ActionType.SetDepartureTime;\n}\n","import \"./styles.scss\";\nimport \"./components/RouteSearch/RouteSearch\";\nimport \"./components/RouteResults/RouteResults\";\nimport { Store } from \"./state/Store\";\nimport { InitializeRouting } from \"./state/actions/InitializeRouting\";\nimport \"./install-sw\";\nimport { SetDepartureTime } from \"./state/actions/SetDepartureTime\";\n\nlet store = Store.getInstance();\nstore.postAction(new InitializeRouting());\ndocument.querySelector(\"#add-5-min\").addEventListener(\"click\", () => { store.postAction(new SetDepartureTime(5 * 60000)); });","import { Action } from \"./Action\";\nimport { ActionType } from \"./ActionType\";\n\nexport class InitializeRouting implements Action {\n    constructor() { }\n    readonly type = ActionType.InitializeRouting;\n}\n","let updatingServiceWorker: ServiceWorker = null;\n\nfunction displayUpdateReady() {\n    let updateready: HTMLDivElement = document.querySelector(\"#updateready\");\n    updateready.style.display = \"\";\n}\n\nlet updateBtn: HTMLButtonElement = document.querySelector(\"#update-btn\");\nupdateBtn.addEventListener(\"click\", () => {\n    updatingServiceWorker.postMessage({ action: \"skipWaiting\" });\n});\nif (\"serviceWorker\" in navigator) {\n    window.addEventListener(\"load\", async () => {\n        try {\n            let reg = await navigator.serviceWorker.register(\"./sw.js\");\n            if (!navigator.serviceWorker.controller) {\n                // the app started the first time with latest version\n                return;\n            }\n            let trackInstalling = (w: ServiceWorker) => {\n                w.addEventListener(\"statechange\", () => {\n                    if (w.state == \"installed\") {\n                        updatingServiceWorker = w;\n                        displayUpdateReady();\n                    }\n                });\n            };\n            if (reg.waiting) {\n                updatingServiceWorker = reg.waiting;\n                displayUpdateReady();\n                return;\n            }\n            if (reg.installing) {\n                trackInstalling(reg.installing);\n                return;\n            }\n            reg.addEventListener(\"updatefound\", () => trackInstalling(reg.installing));\n        }\n        catch (registrationError) {\n            console.log(\"SW registration failed.\", registrationError);\n        }\n    });\n    let refreshing = false;\n    navigator.serviceWorker.addEventListener(\"controllerchange\", () => {\n        if (!refreshing) {\n            refreshing = true;\n            window.location.reload();\n        }\n    });\n}\n","var internalObjectKeys = require('../internals/object-keys-internal');\nvar enumBugKeys = require('../internals/enum-bug-keys');\n\nvar hiddenKeys = enumBugKeys.concat('length', 'prototype');\n\n// `Object.getOwnPropertyNames` method\n// https://tc39.es/ecma262/#sec-object.getownpropertynames\n// eslint-disable-next-line es/no-object-getownpropertynames -- safe\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return internalObjectKeys(O, hiddenKeys);\n};\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"\" + \"5f3333628a6b3110be24\" + \".bundle.js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.p = \"/\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t826: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkpockmas\"] = self[\"webpackChunkpockmas\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [453], function() { return __webpack_require__(3151); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","module","exports","url","options","String","__esModule","default","hash","maybeNeedQuotes","test","concat","Popup","HTMLElement","constructor","super","popupShown","source","this","keyListener","bind","clickListener","connectedCallback","updateStyles","ev","key","hide","setSource","e","contains","target","document","removeEventListener","show","addEventListener","style","display","toggle","disconnectedCallback","abortableEventListener","element","event","listenerFn","signal","customElements","define","LabelAttribute","SearchResultCard","rendered","innerHTML","text","querySelector","updateAttributes","attributeChangedCallback","label","getAttribute","innerText","observedAttributes","StopSearch","abortController","AbortController","labels","Array","from","querySelectorAll","button","popup","input","searchResults","selectedResultLabel","evt","onClick","i","length","onSearchResultClick","focus","dispatchEvent","CustomEvent","detail","l","setAttribute","abort","searchTerm","value","setResults","results","name","Store","_state","subscriptions","worker","Worker","URL","update","changes","data","s","call","err","console","error","state","instance","subscribe","sub","push","splice","indexOf","postAction","action","postMessage","InitializeStopSearch","type","DepartureStopTermChanged","term","ArrivalStopTermChanged","StopsSelected","departure","arrival","RouteSearch","store","getInstance","departureStopSearch","arrivalStopSearch","c","selectedDepartureStop","onStopsSelected","selectedArrivalStop","includes","departureStopResults","arrivalStopResults","ArrayToElementRenderer","listElement","keySelector","createElement","keyToElement","Map","elementToKey","WeakMap","list","updateElement","keyCache","getKey","d","get","set","x","children","el","find","removeChild","before","nextKeyToElement","t","childElement","firstElementChild","prepend","nextElementSibling","insertAdjacentElement","RouteAttribute","RouteColorAttribute","TransitDisplay","routeLabel","color","backgroundColor","TransitDisplayTagName","___HTML_LOADER_IMPORT_0___","MinutesAttribute","WalkingDisplay","minutesLabel","WalkingDisplayTagName","timeFormat","Intl","DateTimeFormat","hour","minute","RouteTimeline","timelineElements","departureTimeLabel","arrivalTimeLabel","render","reuseOrCreateElement","recycleBin","tagName","child","localeCompare","undefined","sensitivity","appendChild","addWalkingLeg","duration","Math","ceil","addTransportLeg","leg","transitDisplay","route","itinerary","legs","departureTime","format","Date","plannedDeparture","getTime","delay","title","arrivalTime","walkingDuration","nextLeg","remove","TextAttribute","FlipDisplay","isFront","beforeValue","animating","connected","queuedValue","shadowRoot","attachShadow","mode","frontSpan","backSpan","boxInner","actualSpan","listener","animationEnded","classList","add","TimeAttribute","FlipTimeDisplay","digits","time","parseInt","hours","getHours","minutes","getMinutes","toString","RouteSummary","plannedTime","departureLine","departureStop","departureHeadsign","timeLine","firstTransitLeg","depratureTimeFormatted","palannedDepatureFormatted","delayed","isRealtime","textDecoration","stopName","headsign","RouteResults","itineraries","renderer","SetDepartureTime","increment","updatingServiceWorker","displayUpdateReady","navigator","window","async","reg","serviceWorker","register","controller","trackInstalling","w","waiting","installing","registrationError","log","refreshing","location","reload","internalObjectKeys","hiddenKeys","f","Object","getOwnPropertyNames","O","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","m","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","r","n","getter","a","definition","o","defineProperty","enumerable","u","chunkId","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","p","b","baseURI","self","href","installedChunks","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","forEach","__webpack_exports__"],"sourceRoot":""}