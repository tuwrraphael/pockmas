{"version":3,"file":"363ada8b3ecb4e54013d.bundle.js","mappings":"+KAKM,MAAOA,UAAqBC,YAK9BC,cACIC,QALI,KAAAC,UAAW,EAMfC,KAAKC,MAAQC,EAAAA,EAAAA,aAChB,CAEDC,oBACIH,KAAKI,gBAAkB,IAAIC,gBACtBL,KAAKD,WACNC,KAAKM,UCjBN,sBDkBCN,KAAKD,UAAW,GAEpBC,KAAKC,MAAMM,WAAU,CAACC,EAAGC,IAAMT,KAAKU,OAAOF,EAAGC,IAAIT,KAAKI,gBAAgBO,QACvEX,KAAKY,KAAKZ,KAAKC,MAAMY,MACxB,CAEOC,eAAeN,GACnB,KAAKA,aAAC,EAADA,EAAGO,aACJ,OAEJ,IAAIC,EAAO,GACX,IAAK,IAAIC,KAAKT,EAAEO,YAAYG,UAAUC,KAClCH,GAAQ,QAAJ,OAAYC,EAAEG,cAAcC,SAA5B,cAA0CJ,EAAEK,YAAYD,SAAxD,UAERrB,KAAKM,UAAYU,CACpB,CAEON,OAAOF,EAAUC,GACjBA,EAAEc,QAAQ,gBAAkB,GAC5BvB,KAAKc,eAAeN,EAE3B,CAEOI,KAAKJ,GACTR,KAAKc,eAAeN,EACvB,CAEDgB,uBACIxB,KAAKI,gBAAgBqB,OACxB,EAGLC,eAAeC,OAAO,gBAAiBhC,E","sources":["webpack://pockmas/./src/components/RouteDetails/RouteDetails.ts","webpack://pockmas/./src/components/RouteDetails/RouteDetails.html"],"sourcesContent":["import { State } from \"../../state/State\";\nimport { Store } from \"../../state/Store\";\nimport template from \"./RouteDetails.html\";\nimport \"./RouteDetails.scss\";\n\nexport class RouteDetails extends HTMLElement {\n    private rendered = false;\n    private store: Store;\n    private abortController: AbortController;\n\n    constructor() {\n        super();\n        this.store = Store.getInstance();\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        if (!this.rendered) {\n            this.innerHTML = template;\n            this.rendered = true;\n        }\n        this.store.subscribe((s, c) => this.update(s, c), this.abortController.signal);\n        this.init(this.store.state);\n    }\n\n    private setRouteDetail(s:State) {\n        if (!s?.routeDetail) {\n            return;\n        }\n        let text = \"\";\n        for (let l of s.routeDetail.itinerary.legs) {\n            text += `<div>${l.departureStop.stopName} - ${l.arrivalStop.stopName}</div>`;\n        }\n        this.innerHTML = text;\n    }\n\n    private update(s: State, c: (keyof State)[]): void {\n        if (c.indexOf(\"routeDetail\") > -1) {\n            this.setRouteDetail(s);\n        }\n    }\n\n    private init(s:State) {\n        this.setRouteDetail(s);\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n}\n\ncustomElements.define(\"route-details\", RouteDetails);\n","// Module\nvar code = \"RouteDetails works.\";\n// Exports\nexport default code;"],"names":["RouteDetails","HTMLElement","constructor","super","rendered","this","store","Store","connectedCallback","abortController","AbortController","innerHTML","subscribe","s","c","update","signal","init","state","setRouteDetail","routeDetail","text","l","itinerary","legs","departureStop","stopName","arrivalStop","indexOf","disconnectedCallback","abort","customElements","define"],"sourceRoot":""}