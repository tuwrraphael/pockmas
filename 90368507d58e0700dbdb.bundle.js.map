{"version":3,"file":"90368507d58e0700dbdb.bundle.js","mappings":"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","sources":["webpack://pockmas/./node_modules/css-loader/dist/runtime/api.js","webpack://pockmas/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://pockmas/./node_modules/html-loader/dist/runtime/getUrl.js","webpack://pockmas/./src/components/DepartureDisplay/DepartureDisplay.html","webpack://pockmas/./src/components/DepartureDisplay/DepartureDisplay.ts","webpack://pockmas/./src/components/FlipDisplay/FlipDisplay.ts","webpack://pockmas/./src/components/FlipDisplay/FlipDisplay.html","webpack://pockmas/./src/components/FlipTimeDisplay/FlipTimeDisplay.ts","webpack://pockmas/./src/components/FlipTimeDisplay/FlipTimeDisplay.html","webpack://pockmas/./src/components/LegDisplay/TransitLegDisplay.ts","webpack://pockmas/./src/components/LegDisplay/TransitLegDisplay.html","webpack://pockmas/./src/components/LegDisplay/WalkLegDisplay.ts","webpack://pockmas/./src/components/LegDisplay/WalkLegDisplay.html","webpack://pockmas/./src/components/LegDisplay/LegDisplay.ts","webpack://pockmas/./src/components/LegDisplay/LegDisplay.html","webpack://pockmas/./src/components/Timeline/Timeline.ts","webpack://pockmas/./src/components/Timeline/Timeline.html","webpack://pockmas/./src/utils/addStyleSheet.ts","webpack://pockmas/./src/components/TimelineElement/TimelineElement.ts","webpack://pockmas/./src/components/TimelineElement/TimelineElement.html","webpack://pockmas/./src/components/RouteDetails/RouteDetails.ts","webpack://pockmas/./src/components/RouteDetails/RouteDetails.html","webpack://pockmas/./src/components/TransitDisplay/TransitDisplay.ts","webpack://pockmas/./src/components/TransitDisplay/TransitDisplay.html","webpack://pockmas/./src/utils/ArrayToElementRenderer.ts","webpack://pockmas/./src/components/Timeline/Timeline.scss"],"sourcesContent":["\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    // eslint-disable-next-line no-param-reassign\n    options = {};\n  }\n\n  if (!url) {\n    return url;\n  } // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n\n\n  url = String(url.__esModule ? url.default : url);\n\n  if (options.hash) {\n    // eslint-disable-next-line no-param-reassign\n    url += options.hash;\n  }\n\n  if (options.maybeNeedQuotes && /[\\t\\n\\f\\r \"'=<>`]/.test(url)) {\n    return \"\\\"\".concat(url, \"\\\"\");\n  }\n\n  return url;\n};","// Imports\nimport ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___ from \"../../../node_modules/html-loader/dist/runtime/getUrl.js\";\nvar ___HTML_LOADER_IMPORT_0___ = new URL(\"../../icons/transport_stop.svg\", import.meta.url);\n// Module\nvar ___HTML_LOADER_REPLACEMENT_0___ = ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___(___HTML_LOADER_IMPORT_0___);\nvar code = \"<div class=\\\"departure-display__departure\\\"> <flip-time-display class=\\\"departure-display__departure-time\\\"></flip-time-display> <div> <transit-display class=\\\"departure-display__departure-line\\\"></transit-display> </div> <span class=\\\"departure-display__departure-headsign\\\"></span> <span class=\\\"departure-display__planned-time\\\"></span> <span class=\\\"departure-display__departure-stop-display\\\"> <img class=\\\"departure-display__departure-stop-img\\\" src=\\\"\" + ___HTML_LOADER_REPLACEMENT_0___ + \"\\\" alt=\\\"Abfahrtsstation\\\">Abfahrt: <span class=\\\"departure-display__departure-stop\\\"></span> </span> </div>\";\n// Exports\nexport default code;","import template from \"./DepartureDisplay.html\";\nimport \"./DepartureDisplay.scss\";\nimport \"../FlipTimeDisplay/FlipTimeDisplay\";\nimport { RouteAttribute, RouteColorAttribute, TransitDisplay } from \"../TransitDisplay/TransitDisplay\";\nimport { FlipTimeDisplay } from \"../FlipTimeDisplay/FlipTimeDisplay\";\nimport { Departure } from \"../../lib/Departure\";\n\nconst timeFormat = Intl.DateTimeFormat([], { hour: \"2-digit\", minute: \"2-digit\" });\n\nexport class DepartureDisplay extends HTMLElement {\n    private rendered = false;\n    private departureTime: FlipTimeDisplay;\n    private departureLine: TransitDisplay;\n    private departureStop: HTMLSpanElement;\n    private departureHeadsign: HTMLSpanElement;\n    private plannedTime: HTMLSpanElement;\n    private abortController: AbortController;\n    private renderedDeparture: Departure;\n    private nextDeparture: Departure;\n\n    constructor() {\n        super();\n\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        if (!this.rendered) {\n            this.innerHTML = template;\n            this.rendered = true;\n            this.departureTime = this.querySelector(\".departure-display__departure-time\");\n            this.plannedTime = this.querySelector(\".departure-display__planned-time\");\n            this.departureLine = this.querySelector(\".departure-display__departure-line\");\n            this.departureStop = this.querySelector(\".departure-display__departure-stop\");\n            this.departureHeadsign = this.querySelector(\".departure-display__departure-headsign\");\n        }\n        this.render();\n    }\n\n    private render() {\n        if (this.rendered && this.nextDeparture) {\n            if (this.renderedDeparture?.plannedDeparture !== this.nextDeparture.plannedDeparture ||\n                this.renderedDeparture?.delay !== this.nextDeparture.delay ||\n                this.renderedDeparture.isRealtime !== this.nextDeparture.isRealtime) {\n                let departureTime = new Date(this.nextDeparture.plannedDeparture.getTime() + this.nextDeparture.delay * 1000);\n                let depratureTimeFormatted = timeFormat.format(departureTime);\n                this.departureTime.setAttribute(\"time\", \"\" + (departureTime.getTime()));\n                this.departureTime.setAttribute(\"title\", `Abfahrt um ${depratureTimeFormatted}`);\n                let palannedDepatureFormatted = timeFormat.format(this.nextDeparture.plannedDeparture);\n                let delayed = palannedDepatureFormatted != depratureTimeFormatted;\n                this.plannedTime.innerText = `${this.nextDeparture.isRealtime ? delayed ? palannedDepatureFormatted : \"pÃ¼nktlich\" : \"\"}`;\n                this.plannedTime.style.textDecoration = delayed ? \"line-through\" : \"none\";\n            }\n            if (this.renderedDeparture?.route.id !== this.nextDeparture.route.id) {\n                this.departureLine.setAttribute(RouteAttribute, this.nextDeparture.route.name);\n                this.departureLine.setAttribute(RouteColorAttribute, this.nextDeparture.route.color);\n                this.departureHeadsign.innerText = this.nextDeparture.route.headsign;\n            }\n            if (this.renderedDeparture?.stop.stopId !== this.nextDeparture.stop.stopId) {\n                this.departureStop.innerText = this.nextDeparture.stop.stopName;\n            }\n        }\n        this.renderedDeparture = this.nextDeparture;\n    }\n\n    update(data: Departure) {\n        this.nextDeparture = data;\n        this.render();\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n}\n\ncustomElements.define(\"departure-display\", DepartureDisplay);\n","import template from \"./FlipDisplay.html\";\n\nexport const TextAttribute = \"text\";\n\nexport class FlipDisplay extends HTMLElement {\n\n    private isFront = true;\n    private beforeValue: string = null;\n    private frontSpan: HTMLSpanElement;\n    private backSpan: HTMLSpanElement;\n    private boxInner: HTMLSpanElement;\n    private actualSpan: HTMLSpanElement;\n    private animating = false;\n    private connected = false;\n    private queuedValue: string = null;\n    private listener: () => void;\n\n    constructor() {\n        super();\n        let shadowRoot = this.attachShadow({ mode: \"open\" });\n        shadowRoot.innerHTML = template;\n        this.frontSpan = shadowRoot.querySelector(\".front\");\n        this.backSpan = shadowRoot.querySelector(\".back\");\n        this.boxInner = shadowRoot.querySelector(\".box-inner\");\n        this.actualSpan = shadowRoot.querySelector(\".actual\");\n        this.listener = () => this.animationEnded();\n    }\n\n    connectedCallback() {\n        this.connected = true;\n        this.boxInner.addEventListener(\"animationend\", this.listener);\n    }\n\n    private animationEnded() {\n        this.animating = false;\n        if (this.queuedValue) {\n            this.updateAttributes();\n            this.queuedValue = null;\n        }\n    }\n\n    disconnectedCallback() {\n        this.connected = false;\n        this.boxInner.removeEventListener(\"animationend\", this.listener);\n    }\n\n    attributeChangedCallback() {\n        this.updateAttributes();\n    }\n\n    static get observedAttributes() {\n        return [TextAttribute];\n    }\n\n    private updateAttributes() {\n        let value = this.getAttribute(TextAttribute);\n        if (!this.beforeValue) {\n            this.isFront = true;\n            this.frontSpan.innerText = value;\n            this.backSpan.innerText = \"\";\n            this.boxInner.classList.remove(\"show-back\");\n            this.boxInner.classList.remove(\"show-front\");\n            this.beforeValue = value;\n            this.actualSpan.innerText = value;\n        } else if (value !== this.beforeValue) {\n            if (this.animating) {\n                this.queuedValue = value;\n            } else {\n                this.isFront = !this.isFront;\n                if (this.isFront) {\n                    this.frontSpan.innerText = value;\n                    this.boxInner.classList.remove(\"show-back\");\n                    this.boxInner.classList.add(\"show-front\");\n                } else {\n                    this.backSpan.innerText = value;\n                    this.boxInner.classList.remove(\"show-front\");\n                    this.boxInner.classList.add(\"show-back\");\n                }\n                if (this.connected) {\n                    this.animating = true;\n                }\n                this.actualSpan.innerText = value;\n                this.beforeValue = value;\n            }\n        }\n    }\n}\n\ncustomElements.define(\"flip-display\", FlipDisplay);","// Module\nvar code = \"<style>.box{perspective:5em;display:inline-block}.box-inner{transform-style:preserve-3d;display:inline-block;position:relative;border-radius:2px;transition:transform,box-shadow;animation-timing-function:ease-in-out}.back,.front{backface-visibility:hidden;display:inline-block;position:absolute;left:0}.front{transform:rotateX(0)}.back{transform:rotateX(180deg)}.actual{visibility:hidden}.show-back{animation:flip-front-to-back .8s;transform:rotateX(180deg)}.show-front{animation:flip-back-to-front .8s;transform:rotateX(0)}@keyframes flip-back-to-front{0%{transform:rotateX(180deg);box-shadow:none}10%{transform:rotateX(180deg)}50%{box-shadow:0 0 0 -1px rgb(0 0 0 / 20%),0 0 5px 0 rgb(0 0 0 / 14%),0 0 10px 0 rgb(0 0 0 / 12%)}90%{transform:rotateX(360deg)}100%{transform:rotateX(360deg);box-shadow:none}}@keyframes flip-front-to-back{0%{transform:rotateX(0);box-shadow:none}10%{transform:rotateX(0)}50%{box-shadow:0 0 0 -1px rgb(0 0 0 / 20%),0 0 5px 0 rgb(0 0 0 / 14%),0 0 10px 0 rgb(0 0 0 / 12%)}90%{transform:rotateX(180deg)}100%{transform:rotateX(180deg);box-shadow:none}}</style><span class=\\\"box\\\"><span class=\\\"box-inner\\\"><span class=\\\"front\\\" aria-hidden=\\\"true\\\"></span><span class=\\\"back\\\" aria-hidden=\\\"true\\\"></span><span class=\\\"actual\\\"></span></span></span>\";\n// Exports\nexport default code;","import \"../FlipDisplay/FlipDisplay\";\nimport { FlipDisplay, TextAttribute } from \"../FlipDisplay/FlipDisplay\";\nimport template from \"./FlipTimeDisplay.html\";\n\nexport const TimeAttribute = \"time\";\n\nexport class FlipTimeDisplay extends HTMLElement {\n    private digits: FlipDisplay[];\n\n    constructor() {\n        super();\n        let shadowRoot = this.attachShadow({ mode: \"open\" });\n        shadowRoot.innerHTML = template;\n        this.digits = Array.from(shadowRoot.querySelectorAll(\"flip-display\"));\n    }\n\n    connectedCallback() {\n    }\n\n    disconnectedCallback() {\n\n    }\n\n    attributeChangedCallback() {\n        this.updateAttributes();\n    }\n\n    static get observedAttributes() {\n        return [TimeAttribute];\n    }\n\n    private updateAttributes() {\n        let value = this.getAttribute(TimeAttribute);\n        let time = new Date(parseInt(value));\n        let hours = time.getHours();\n        let minutes = time.getMinutes();\n        this.digits[0].setAttribute(TextAttribute, ((hours / 10) >> 0).toString());\n        this.digits[1].setAttribute(TextAttribute, (hours % 10).toString());\n        this.digits[2].setAttribute(TextAttribute, ((minutes / 10) >> 0).toString());\n        this.digits[3].setAttribute(TextAttribute, (minutes % 10).toString());\n    }\n}\n\ncustomElements.define(\"flip-time-display\", FlipTimeDisplay);","// Module\nvar code = \"<flip-display></flip-display><flip-display></flip-display>:<flip-display></flip-display><flip-display></flip-display>\";\n// Exports\nexport default code;","import { Leg } from \"../../lib/Leg\";\nimport { DepartureDisplay } from \"../DepartureDisplay/DepartureDisplay\";\nimport template from \"./TransitLegDisplay.html\";\nimport \"./TransitLegDisplay.scss\";\nimport \"../DepartureDisplay/DepartureDisplay\";\n\nexport class TransitLegDisplay extends HTMLElement {\n    private rendered: boolean;\n    private departureDisplay: DepartureDisplay;\n    private leg: Leg;\n    update(leg: Leg) {\n        this.leg = leg;\n        this.render();\n    }\n\n    constructor() {\n        super();\n\n    }\n\n    connectedCallback() {\n        if (!this.rendered) {\n            this.innerHTML = template;\n            this.rendered = true;\n            this.departureDisplay = this.querySelector(`departure-display`);\n            this.render();\n        }\n    }\n\n    disconnectedCallback() {\n\n    }\n\n    private render() {\n        if (!this.rendered || this.leg == null) {\n            return;\n        }\n        this.departureDisplay.update({\n            delay: this.leg.delay,\n            plannedDeparture: this.leg.plannedDeparture,\n            route: this.leg.route,\n            stop: this.leg.departureStop,\n            tripId: this.leg.tripId,\n            isRealtime: this.leg.isRealtime\n        });\n    }\n}\n\ncustomElements.define(\"transit-leg-display\", TransitLegDisplay);\n","// Module\nvar code = \"<departure-display></departure-display>\";\n// Exports\nexport default code;","import { Leg } from \"../../lib/Leg\";\nimport template from \"./WalkLegDisplay.html\";\nimport \"./WalkLegDisplay.scss\";\n\nexport class WalkLegDisplay extends HTMLElement {\n    private rendered: boolean;\n    private leg: Leg;\n    private fromText: HTMLSpanElement;\n    private toText: HTMLSpanElement;\n    private durationText: HTMLSpanElement;\n    update(leg: Leg) {\n        this.leg = leg;\n        this.render();\n    }\n\n    constructor() {\n        super();\n    }\n\n    connectedCallback() {\n        if (!this.rendered) {\n            this.innerHTML = template;\n            this.fromText = this.querySelector(`[data-ref=\"from\"]`);\n            this.toText = this.querySelector(`[data-ref=\"to\"]`);\n            this.durationText = this.querySelector(`[data-ref=\"duration\"]`);\n            this.rendered = true;\n            this.render();\n        }\n    }\n\n    disconnectedCallback() {\n\n    }\n\n    private render() {\n        if (!this.rendered || this.leg == null) {\n            return;\n        }\n        this.fromText.innerText = this.leg.departureStop.stopName;\n        this.toText.innerText = this.leg.arrivalStop.stopName;\n        this.durationText.innerHTML = `${Math.ceil((+this.leg.arrivalTime - +this.leg.plannedDeparture) / (1000 * 60))}`;\n\n    }\n}\n\ncustomElements.define(\"walk-leg-display\", WalkLegDisplay);\n","// Module\nvar code = \"Gehen von <span data-ref=\\\"from\\\"></span> zu <span data-ref=\\\"to\\\"></span> (Dauer: <span data-ref=\\\"duration\\\"></span> min)\";\n// Exports\nexport default code;","import { Leg } from \"../../lib/Leg\";\nimport { LegType } from \"../../lib/LegType\";\nimport template from \"./LegDisplay.html\";\nimport \"./LegDisplay.scss\";\nimport { TransitLegDisplay } from \"./TransitLegDisplay\";\nimport { WalkLegDisplay } from \"./WalkLegDisplay\";\n\nexport class LegDisplay extends HTMLElement {\n    private rendered: boolean = false;\n    private leg: Leg;\n    private legDisplayContainer: HTMLDivElement;\n    private transitLegDisplay: TransitLegDisplay;\n    private walkLegDisplay: WalkLegDisplay;\n\n    update(leg: Leg) {\n        this.leg = leg;\n        this.render();\n    }\n\n    constructor() {\n        super();\n    }\n\n    connectedCallback() {\n        if (!this.rendered) {\n            this.innerHTML = template;\n            this.rendered = true;\n            this.legDisplayContainer = this.querySelector(`[data-ref=\"leg-display-container\"]`);\n            this.render();\n        }\n    }\n\n    disconnectedCallback() {\n\n    }\n\n    private render() {\n        if (!this.rendered || this.leg == null) {\n            return;\n        }\n        if (this.leg.type == LegType.Transit) {\n            if (this.transitLegDisplay == null) {\n                this.legDisplayContainer.innerHTML = \"\";\n                this.transitLegDisplay = new TransitLegDisplay();\n\n                this.legDisplayContainer.appendChild(this.transitLegDisplay);\n            }\n            this.transitLegDisplay.update(this.leg);\n        }\n        else if (this.leg.type == LegType.Walking) {\n            if (this.walkLegDisplay == null) {\n                this.legDisplayContainer.innerHTML = \"\";\n                this.walkLegDisplay = new WalkLegDisplay();\n                this.legDisplayContainer.appendChild(this.walkLegDisplay);\n            }\n            this.walkLegDisplay.update(this.leg);\n        }\n    }\n}\n\ncustomElements.define(\"leg-display\", LegDisplay);\n","// Module\nvar code = \"<div data-ref=\\\"leg-display-container\\\"> </div>\";\n// Exports\nexport default code;","import { abortableEventListener } from \"../../utils/abortableEventListener\";\nimport { addStyleSheet } from \"../../utils/addStyleSheet\";\nimport { TimelineElement } from \"../TimelineElement/TimelineElement\";\nimport template from \"./Timeline.html\";\nimport cssContent from \"./Timeline.scss\" assert { type: \"css\" };\n\nconst templateNode = document.createElement(\"template\");\ntemplateNode.innerHTML = template;\n\nconst svgXmlNs = \"http://www.w3.org/2000/svg\";\n\n// const maxPixelPerMs = 20 / (1 * 60 * 1000);\n\nfunction median(values: number[]) {\n    values.sort((a, b) => a - b);\n    let half = Math.floor(values.length / 2);\n    if (values.length % 2) {\n        return values[half];\n    }\n    return (values[half - 1] + values[half]) / 2.0;\n}\n\nexport class Timeline extends HTMLElement {\n    onTimechange() {\n        this.triggerLayout(\"timechange\");\n    }\n    private abortController: AbortController;\n    private timeLineElements: TimelineElement[] = [];\n    private resizeObserver = new ResizeObserver(() => this.resizeCallback());\n    private timelinePath: SVGPathElement;\n    private timelineContent: HTMLDivElement;\n    private timeline1Box: HTMLDivElement;\n    private timelinePlaceholder: HTMLDivElement;\n    private arrows: Map<TimelineElement, SVGPathElement> = new Map();\n    private svg: SVGElement;\n    private layoutTriggered = false;\n\n    constructor() {\n        super();\n        this.attachShadow({ mode: \"open\" });\n        addStyleSheet(this.shadowRoot, cssContent);\n        this.shadowRoot.appendChild(templateNode.content.cloneNode(true));\n        this.timelinePath = this.shadowRoot.querySelector(\"#timeline-path\");\n        this.timelineContent = this.shadowRoot.querySelector(\"#timeline-content\");\n        this.svg = this.shadowRoot.querySelector(\"svg\");\n        this.timeline1Box = this.shadowRoot.querySelector(\"#timeline1-box\");\n        this.timelinePlaceholder = this.shadowRoot.querySelector(\"#timeline-placeholder\");\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        abortableEventListener(this.shadowRoot, \"slotchange\", () => this.slotchangeCallback(), this.abortController.signal);\n        abortableEventListener(this, \"timechange\", () => this.onTimechange(), this.abortController.signal);\n        this.resizeObserver.observe(this);\n        this.resizeObserver.observe(this.timeline1Box);\n\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n        this.resizeObserver.unobserve(this);\n        this.resizeObserver.unobserve(this.timeline1Box);\n    }\n\n    private createArrow(): SVGPathElement {\n        let p: SVGPathElement = document.createElementNS(svgXmlNs, \"path\");\n        p.classList.add(\"connection\");\n        this.svg.appendChild(p);\n        return p;\n\n    }\n\n    private slotchangeCallback() {\n        let newElements: TimelineElement[] = Array.from(this.querySelectorAll(\"timeline-element\"));\n        for (let e of this.timeLineElements) {\n            if (newElements.indexOf(e) < 0) {\n                this.resizeObserver.unobserve(e);\n                let arrow = this.arrows.get(e);\n                this.svg.removeChild(arrow);\n                this.arrows.delete(e);\n            }\n        }\n        for (let e of newElements) {\n            if (this.timeLineElements.indexOf(e) < 0) {\n                this.resizeObserver.observe(e);\n                this.arrows.set(e, this.createArrow());\n            }\n        }\n        this.timeLineElements = newElements;\n        this.triggerLayout(\"slotchange\");\n    }\n\n    private resizeCallback() {\n        this.triggerLayout(\"resize\");\n    }\n\n    private createArc(startpoint: { x: number, y: number }, endpoint: { x: number, y: number }) {\n        let midx = startpoint.x + (endpoint.x - startpoint.x) / 2;\n        return `M ${startpoint.x} ${startpoint.y} C ${midx} ${startpoint.y} ${midx} ${endpoint.y} ${endpoint.x} ${endpoint.y}`;\n    }\n\n    private triggerLayout(reason: string) {\n        if (this.layoutTriggered) {\n            return;\n        }\n        console.log(\"layout\", reason);\n        this.layoutTriggered = true;\n        requestAnimationFrame(() => {\n            this.layout();\n        })\n    }\n\n    private layout() {\n        this.layoutTriggered = false;\n        if (this.timeLineElements.length == 0) {\n            this.timelineContent.style.height = `0px`;\n            return;\n        }\n        // this.timeLineElements = this.timeLineElements.sort((a, b) => (+a.time - +b.time));\n        let scale = this.getTimelineScale(this.timeLineElements);\n        console.log(scale);\n        const linePositionX = this.timelinePlaceholder.offsetLeft + this.timelinePlaceholder.clientWidth / 2;\n        // let beforeEnd = 0;\n\n        let boxYStartPositions: number[] = [];\n        let boxYEndPositions: number[] = [];\n        let timeYPositions: number[] = [];\n\n        let arrowYStart: number[] = [];\n\n        for (let e of this.timeLineElements) {\n            let arrowOffset = e.clientHeight / 2;\n            let timeOffset = +e.time - +this.timeLineElements[0].time;\n            let timePositionY = timeOffset * scale.scale;\n            timeYPositions.push(timePositionY);\n            let boxPositionY = timePositionY - arrowOffset;\n            let diff = boxPositionY - boxYEndPositions[boxYEndPositions.length - 1];\n\n            if (diff < 0) {\n                boxPositionY -= diff / 2;\n                let diff2 = diff / 2;\n                for (let i = boxYStartPositions.length - 1; i >= 0; i--) {\n                    boxYStartPositions[i] += diff2;\n                    boxYEndPositions[i] += diff2;\n                    arrowYStart[i] += diff2;\n                    if (i > 0) {\n                        diff2 = boxYStartPositions[i] - boxYEndPositions[i - 1];\n                    }\n                    if (diff2 > 0) {\n                        break;\n                    }\n                }\n            }\n            boxYStartPositions.push(boxPositionY);\n            boxYEndPositions.push(boxPositionY + e.clientHeight);\n            arrowYStart.push(boxPositionY + arrowOffset);\n        }\n        let boxYZero = boxYStartPositions[0];\n        boxYStartPositions = boxYStartPositions.map(b => b - boxYZero);\n        arrowYStart = arrowYStart.map(b => b - boxYZero);\n        timeYPositions = timeYPositions.map(b => b - boxYZero);\n\n        let timelineOffset = median(timeYPositions.map((cur, idx) => arrowYStart[idx] - cur));\n\n        for (let i = 0; i < this.timeLineElements.length; i++) {\n            let e = this.timeLineElements[i];\n            e.style.transform = `translateY(${boxYStartPositions[i]}px)`;\n            // TODO\n            if (e.style.transition == \"\") {\n                requestAnimationFrame(() => {\n                    e.style.transition = \"0.2s linear\";\n                })\n            }\n\n            let arrow = this.arrows.get(e);\n            let startpoint = {\n                x: e.offsetLeft,\n                y: arrowYStart[i]\n            };\n            let endpoint = {\n                x: linePositionX,\n                y: timeYPositions[i] + timelineOffset\n            };\n            arrow.setAttribute(\"d\", this.createArc(startpoint, endpoint));\n        }\n        this.timelineContent.style.height = `${boxYEndPositions[boxYEndPositions.length - 1] - boxYZero}px`;\n        this.timelinePath.setAttribute(\"d\", `M ${linePositionX} ${0} L ${linePositionX} ${boxYEndPositions[boxYEndPositions.length - 1] - boxYZero}`);\n    }\n\n    private getTimelineScale(elements: TimelineElement[]) {\n        if (elements.length < 1) {\n            return {\n                size: 0,\n                scale: 1\n            };\n        } else if (elements.length == 1) {\n            return {\n                size: elements[0].clientHeight,\n                scale: 1\n            };\n        }\n        let pixelPerMs = 0;\n        for (let i = 1; i < elements.length; i++) {\n            let timediff = +elements[i].time - +elements[i - 1].time;\n            let size = elements[i - 1].clientHeight;\n            pixelPerMs = Math.max(size / timediff, pixelPerMs);\n        }\n        let times = this.timeLineElements.map(t => +t.time).sort((a, b) => a - b);\n        let overallSize = (times[times.length - 1] - times[0]) * pixelPerMs;\n        const minHeight = window.innerHeight * 0.7;\n        const maxHeight = window.innerHeight * 1.4;\n        if (overallSize < minHeight) {\n            pixelPerMs = minHeight / overallSize * pixelPerMs;\n        } else if (overallSize > maxHeight) {\n            pixelPerMs = maxHeight / overallSize * pixelPerMs;\n        }\n        return {\n            scale: pixelPerMs,\n        };\n    }\n}\n\ncustomElements.define(\"app-timeline\", Timeline);\n","// Module\nvar code = \"<div id=\\\"timeline-content\\\"> <div id=\\\"timeline-element-grid\\\"> <div id=\\\"timeline1-box\\\"> <slot name=\\\"timeline1\\\"></slot> </div> <div id=\\\"timeline-placeholder\\\"> </div> <div id=\\\"timeline2-box\\\"> <slot name=\\\"timeline2\\\"></slot> </div> </div> <svg xmlns=\\\"http://www.w3.org/2000/svg\\\"> <path id=\\\"timeline-path\\\" d=\\\"M 0 0\\\" stroke=\\\"#000\\\" stroke-width=\\\"3\\\"/> </svg> </div>\";\n// Exports\nexport default code;","\nexport function addStyleSheet(shadowRoot: ShadowRoot, style: string) {\n    // replace this with constructable style sheet thing when safari is ready\n    let styleElement = document.createElement(\"style\");\n    styleElement.innerHTML = style;\n    shadowRoot.appendChild(styleElement);\n}\n","import template from \"./TimelineElement.html\";\nimport \"./TimelineElement.scss\";\n\nconst TimeAttribute = \"time\";\n\nexport class TimelineElement extends HTMLElement {\n\n    private _time: Date;\n\n    get time() {\n        return this._time;\n    }\n\n    set time(value: Date) {\n        this.setAttribute(TimeAttribute, value.toISOString());\n    }\n\n    constructor() {\n        super();\n        let shadowRoot = this.attachShadow({ mode: \"open\" });\n        shadowRoot.innerHTML = template;\n    }\n\n    connectedCallback() {\n\n    }\n\n    disconnectedCallback() {\n\n    }\n\n    attributeChangedCallback() {\n        this.updateAttributes();\n    }\n\n    static get observedAttributes() {\n        return [TimeAttribute];\n    }\n\n    private updateAttributes() {\n        let newTime = new Date(this.getAttribute(TimeAttribute));\n        let dispatchEvent = newTime != this._time;\n        this._time = newTime;\n        if (dispatchEvent) {\n            this.dispatchEvent(new CustomEvent(\"timechange\", { bubbles: true, composed: true }));\n        }\n    }\n}\n\ncustomElements.define(\"timeline-element\", TimelineElement);\n","// Module\nvar code = \"<div> <slot></slot> </div>\";\n// Exports\nexport default code;","import { State } from \"../../state/State\";\nimport { Store } from \"../../state/Store\";\nimport template from \"./RouteDetails.html\";\nimport \"./RouteDetails.scss\";\nimport { ArrayToElementRenderer } from \"../../utils/ArrayToElementRenderer\";\nimport { Leg } from \"../../lib/Leg\";\nimport { LegDisplay } from \"../LegDisplay/LegDisplay\";\nimport \"../Timeline/Timeline\";\nimport \"../TimelineElement/TimelineElement\";\nimport { TimelineElement } from \"../TimelineElement/TimelineElement\";\n\nexport class RouteDetails extends HTMLElement {\n    private rendered = false;\n    private store: Store;\n    private abortController: AbortController;\n    private renderer: ArrayToElementRenderer<Leg, TimelineElement, number>;\n\n    constructor() {\n        super();\n\n        this.store = Store.getInstance();\n    }\n\n    connectedCallback() {\n        this.abortController = new AbortController();\n        if (!this.rendered) {\n            this.innerHTML = template;\n            this.renderer = new ArrayToElementRenderer(document.querySelector(\"app-timeline\"),\n                (_, idx) => idx,\n                leg => {\n                    let e = new TimelineElement();\n                    e.appendChild(new LegDisplay());\n                    return e;\n                });\n            this.rendered = true;\n        }\n        this.store.subscribe((s, c) => this.update(s, c), this.abortController.signal);\n        this.init(this.store.state);\n    }\n\n    private setRouteDetail(s: State) {\n        if (!s?.routeDetail || !this.rendered) {\n            return;\n        }\n        console.log(s.routeDetail);\n        this.renderer.update(s.routeDetail.itinerary.legs, (e, leg) => {\n            e.setAttribute(\"time\", (new Date(leg.plannedDeparture.getTime() + leg.delay * 1000)).toISOString());\n            e.setAttribute(\"slot\", \"timeline2\");\n            let legDisplay : LegDisplay = <LegDisplay>e.children[0];\n            legDisplay.update(leg);\n        });\n    }\n\n    private update(s: State, c: (keyof State)[]): void {\n        if (c.indexOf(\"routeDetail\") > -1) {\n            this.setRouteDetail(s);\n        }\n    }\n\n    private init(s: State) {\n        this.setRouteDetail(s);\n    }\n\n    disconnectedCallback() {\n        this.abortController.abort();\n    }\n}\n\ncustomElements.define(\"route-details\", RouteDetails);\n","// Module\nvar code = \"<app-timeline> </app-timeline>\";\n// Exports\nexport default code;","import template from \"./TransitDisplay.html\";\nimport \"./TransitDisplay.scss\";\n\nexport const RouteAttribute = \"route\";\nexport const RouteColorAttribute = \"route-color\";\n\nexport class TransitDisplay extends HTMLElement {\n    private rendered = false;\n    private routeLabel: HTMLSpanElement;\n    constructor() {\n        super();\n    }\n\n    connectedCallback() {\n        if (!this.rendered) {\n            this.innerHTML = template;\n            this.rendered = true;\n            this.routeLabel = this.querySelector(\".transit-display__route\");\n            this.updateAttributes();\n        }\n    }\n\n    attributeChangedCallback() {\n        this.updateAttributes();\n    }\n\n    static get observedAttributes() {\n        return [RouteAttribute, RouteColorAttribute];\n    }\n\n    private updateAttributes() {\n        if (!this.rendered) {\n            return;\n        }\n        let label = this.getAttribute(RouteAttribute) || \"\";\n        label = label.replace(/\\s/g, \"\");\n        this.routeLabel.classList.toggle(\"transit-display__route--long\", label.length > 3);\n        this.routeLabel.innerText = label;\n        let color = this.getAttribute(RouteColorAttribute);\n        this.style.backgroundColor = color ? `#${color}` : \"\";\n    }\n\n    disconnectedCallback() {\n\n    }\n}\nexport const TransitDisplayTagName = \"transit-display\";\ncustomElements.define(TransitDisplayTagName, TransitDisplay);\n","// Module\nvar code = \"<span class=\\\"transit-display__route\\\"></span>\";\n// Exports\nexport default code;","export class ArrayToElementRenderer<T, E extends Element, K>{\n    private keyToElement: Map<K, E>;\n    private elementToKey: WeakMap<E, K>;\n\n    constructor(private listElement: HTMLElement,\n        private keySelector: (x: T, index: number) => K,\n        private createElement: (x: T) => E) {\n        this.keyToElement = new Map<K, E>();\n        this.elementToKey = new WeakMap<E, K>();\n    }\n\n    update(list: T[], updateElement: (x: E, data: T) => void) {\n        let keyCache = new Map<T, K>();\n        let getKey = (d: T, index: number) => keyCache.get(d) || (() => {\n            let key = this.keySelector(d, index);\n            keyCache.set(d, key);\n            return key;\n        })();\n        for (let x of Array.from(this.listElement.children)) {\n            let el: E = <E>x;\n            let data = list.find((i, index) => this.elementToKey.get(el) == getKey(i, index));\n            if (data) {\n                updateElement(<E>el, data);\n            }\n            else {\n                this.listElement.removeChild(el);\n            }\n        }\n        let before: Element = null;\n        let nextKeyToElement = new Map<K, E>();\n        for (let i = 0; i < list.length; i++) {\n            let t = list[i];\n            let key = getKey(t, i);\n            let childElement: E = this.keyToElement.get(key);\n            if (!childElement) {\n                childElement = this.createElement(t);\n                updateElement(childElement, t);\n                this.elementToKey.set(childElement, key);\n            }\n            nextKeyToElement.set(key, childElement);\n            if (null == before && childElement != this.listElement.firstElementChild) {\n                this.listElement.prepend(childElement);\n            }\n            else if (null != before && before.nextElementSibling != childElement) {\n                before.insertAdjacentElement(\"afterend\", childElement);\n            }\n            before = childElement;\n        }\n        this.keyToElement = nextKeyToElement;\n    }\n\n}","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \":root{--primary: #00e676;--background: white;--text: black;--border: #e0e0e0;--hover: #f0f0f0;--focus: #e6fff3;--text-disabled: #999999;--timeline--time:#f0f0f0;--timeline--walking:#999999;--button-background: #fff;--button-border: #999999;--button-background--hover: #f0f0f0;--button-background--active: #e0e0e0;--button-background--focus: #e6fff3}@media(prefers-color-scheme: dark){:root{--background: #383838;--text:#eeeeee;--border: #999999;--hover: #666666;--focus: #667667;--text-disabled: #999999;--timeline--time:#666666;--button-background: #383838;--button-border: #999999;--button-background--hover: #666666;--button-background--active: #555555;--button-background--focus: #667667}}:host{position:relative;display:block}svg{width:100%;height:100%;display:block;position:absolute;top:0;pointer-events:none}svg path.connection{stroke-width:.1em;stroke:var(--primary);fill:none;transition:.2s}svg path#timeline-path{stroke-width:.5em;stroke:var(--primary);transition:.2s}#timeline-placeholder{flex-basis:0px;flex-grow:1}#timeline-element-grid{display:flex}#timeline1-box{width:3em}#timeline2-box{flex-grow:9;margin-left:2em}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/theme.scss\",\"webpack://./src/components/Timeline/Timeline.scss\"],\"names\":[],\"mappings\":\"AAKA,MACI,kBAAA,CACA,mBAAA,CACA,aAAA,CACA,iBAAA,CACA,gBAAA,CACA,gBAAA,CACA,wBAAA,CAEA,wBAAA,CACA,2BAAA,CAEA,yBAAA,CACA,wBAAA,CACA,mCAAA,CACA,oCAAA,CACA,mCAAA,CAGJ,mCACI,MACI,qBAAA,CACA,cAAA,CACA,iBAAA,CACA,gBAAA,CACA,gBAAA,CACA,wBAAA,CAEA,wBAAA,CAEA,4BAAA,CACA,wBAAA,CACA,mCAAA,CACA,oCAAA,CACA,mCAAA,CAAA,CCrCR,MACI,iBAAA,CACA,aAAA,CAGJ,IACI,UAAA,CACA,WAAA,CACA,aAAA,CAGA,iBAAA,CACA,KAAA,CACA,mBAAA,CAEA,oBACI,iBAAA,CACA,qBAAA,CACA,SAAA,CACA,cAAA,CAGJ,uBACI,iBAAA,CACA,qBAAA,CACA,cAAA,CAIR,sBACI,cAAA,CACA,WAAA,CAGJ,uBACI,YAAA,CAGJ,eACI,SAAA,CAGJ,eACI,WAAA,CACA,eAAA\",\"sourcesContent\":[\"@use \\\"sass:color\\\";\\n\\n$primary : #00e676;\\n$focus : color.adjust($primary, $lightness: 50%);\\n\\n:root {\\n    --primary : #{$primary};\\n    --background: white;\\n    --text : black;\\n    --border : #e0e0e0;\\n    --hover : #f0f0f0;\\n    --focus: #{$focus};\\n    --text-disabled : #999999;\\n\\n    --timeline--time:#f0f0f0;\\n    --timeline--walking:#999999;\\n\\n    --button-background: #fff;\\n    --button-border: #999999;\\n    --button-background--hover: #f0f0f0;\\n    --button-background--active: #e0e0e0;\\n    --button-background--focus: #{$focus};    \\n}\\n\\n@media (prefers-color-scheme: dark) {\\n    :root {\\n        --background: #383838;\\n        --text:#eeeeee;\\n        --border : #999999;\\n        --hover : #666666;\\n        --focus: #667667;\\n        --text-disabled : #999999;\\n\\n        --timeline--time:#666666;\\n\\n        --button-background: #383838;\\n        --button-border: #999999;\\n        --button-background--hover: #666666;\\n        --button-background--active: #555555;\\n        --button-background--focus: #667667;    \\n    }\\n}\",\"@import \\\"../../theme.scss\\\";\\n\\n:host {\\n    position: relative;\\n    display: block;\\n}\\n\\nsvg {\\n    width: 100%;\\n    height: 100%;\\n    display: block;\\n\\n    // act as a background image\\n    position: absolute;\\n    top: 0;\\n    pointer-events: none;\\n\\n    path.connection {\\n        stroke-width: 0.1em;\\n        stroke: var(--primary);\\n        fill: none;\\n        transition: 0.2s;\\n    }\\n\\n    path#timeline-path {\\n        stroke-width: 0.5em;\\n        stroke: var(--primary);\\n        transition: 0.2s;\\n    }\\n}\\n\\n#timeline-placeholder {\\n    flex-basis: 0px;\\n    flex-grow: 1;\\n}\\n\\n#timeline-element-grid {\\n    display: flex;\\n}\\n\\n#timeline1-box {\\n    width: 3em;\\n}\\n\\n#timeline2-box {\\n    flex-grow: 9;\\n    margin-left: 2em;\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___.toString();\n"],"names":["module","exports","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","id","_k","push","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","url","options","String","__esModule","default","hash","maybeNeedQuotes","test","___HTML_LOADER_IMPORT_0___","URL","timeFormat","Intl","DateTimeFormat","hour","minute","DepartureDisplay","HTMLElement","constructor","super","rendered","connectedCallback","abortController","AbortController","innerHTML","template","departureTime","querySelector","plannedTime","departureLine","departureStop","departureHeadsign","render","nextDeparture","renderedDeparture","plannedDeparture","delay","isRealtime","Date","getTime","depratureTimeFormatted","format","setAttribute","palannedDepatureFormatted","delayed","innerText","style","textDecoration","route","RouteAttribute","name","RouteColorAttribute","color","headsign","stop","stopId","stopName","update","disconnectedCallback","abort","customElements","define","TextAttribute","FlipDisplay","isFront","beforeValue","animating","connected","queuedValue","shadowRoot","attachShadow","mode","frontSpan","backSpan","boxInner","actualSpan","listener","animationEnded","addEventListener","updateAttributes","removeEventListener","attributeChangedCallback","observedAttributes","value","getAttribute","classList","remove","add","TimeAttribute","FlipTimeDisplay","digits","Array","from","querySelectorAll","time","parseInt","hours","getHours","minutes","getMinutes","TransitLegDisplay","leg","departureDisplay","tripId","WalkLegDisplay","fromText","toText","durationText","arrivalStop","Math","ceil","arrivalTime","LegDisplay","legDisplayContainer","type","transitLegDisplay","appendChild","walkLegDisplay","templateNode","document","createElement","Timeline","onTimechange","triggerLayout","timeLineElements","resizeObserver","ResizeObserver","resizeCallback","arrows","Map","layoutTriggered","styleElement","addStyleSheet","cssContent","cloneNode","timelinePath","timelineContent","svg","timeline1Box","timelinePlaceholder","abortableEventListener","slotchangeCallback","signal","observe","unobserve","createArrow","p","createElementNS","newElements","e","indexOf","arrow","get","removeChild","delete","set","createArc","startpoint","endpoint","midx","x","y","reason","console","log","requestAnimationFrame","layout","height","scale","getTimelineScale","linePositionX","offsetLeft","clientWidth","boxYStartPositions","boxYEndPositions","timeYPositions","arrowYStart","arrowOffset","clientHeight","timePositionY","boxPositionY","diff","diff2","boxYZero","b","timelineOffset","values","sort","a","half","floor","median","cur","idx","transform","transition","elements","size","pixelPerMs","timediff","max","times","t","overallSize","minHeight","window","innerHeight","maxHeight","TimelineElement","_time","toISOString","newTime","dispatchEvent","CustomEvent","bubbles","composed","RouteDetails","store","Store","renderer","ArrayToElementRenderer","_","subscribe","s","c","init","state","setRouteDetail","routeDetail","itinerary","legs","children","TransitDisplay","routeLabel","label","replace","toggle","backgroundColor","TransitDisplayTagName","listElement","keySelector","keyToElement","elementToKey","WeakMap","updateElement","keyCache","getKey","d","index","key","el","find","before","nextKeyToElement","childElement","firstElementChild","prepend","nextElementSibling","insertAdjacentElement","___CSS_LOADER_EXPORT___"],"sourceRoot":""}